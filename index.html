<!doctype html>
<html lang="az">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>âš¡ UltraSecure Download â€¢ Cesicoder</title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --bg-1: #06070a;
  --card: rgba(255,255,255,0.04);
  --glass: rgba(255,255,255,0.03);
  --accent1: #7c5cff;
  --accent2: #12c2e9;
  --muted: #9aa4b2;
  --radius: 18px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:"Poppins", "Inter", system-ui, -apple-system, "Segoe UI", Roboto;
  background: radial-gradient(800px 400px at 10% 10%, rgba(124,92,255,0.14), transparent),
              radial-gradient(600px 300px at 90% 90%, rgba(18,194,233,0.06), transparent),
              linear-gradient(180deg,#05060a,var(--bg-1));
  color:#e9f0ff; -webkit-font-smoothing:antialiased; padding:28px;
}

/* layout */
.container{max-width:1100px;margin:24px auto;display:grid;grid-template-columns:1fr 420px;gap:22px}
@media (max-width:980px){ .container{grid-template-columns:1fr;padding:12px} .side{order:2} }

/* card */
.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:22px;border-radius:var(--radius);box-shadow:0 12px 50px rgba(2,6,23,0.6); border:1px solid rgba(255,255,255,0.04)}
.header{display:flex;gap:16px;align-items:center}
.logo{
  width:72px;height:72px;border-radius:16px;display:flex;align-items:center;justify-content:center;
  background:linear-gradient(135deg,var(--accent1),var(--accent2));font-weight:900;font-size:26px;box-shadow:0 12px 40px rgba(124,92,255,0.12);
}
.title{font-size:20px;font-weight:800;margin:0}
.subtitle{color:var(--muted);font-size:13px;margin-top:6px}

/* hero */
.hero .big{font-size:22px;font-weight:800;margin-top:12px}
.lead{color:var(--muted);margin-top:8px;font-size:14px}

/* controls */
.controls{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
.btn{
  padding:12px 16px;border-radius:12px;border:0;cursor:pointer;font-weight:700;
  box-shadow:0 8px 24px rgba(2,6,23,0.6); transition:transform .12s, box-shadow .12s;
}
.btn:active{transform:translateY(2px)}
.btn-primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}

/* fancy info */
.info-row{display:flex;gap:10px;align-items:center;margin-top:12px;flex-wrap:wrap}
.chip{background:var(--glass);padding:8px 10px;border-radius:999px;color:var(--muted);font-weight:600;font-size:13px;display:inline-flex;gap:8px;align-items:center}

/* progress */
.progress{height:12px;background:rgba(255,255,255,0.02);border-radius:999px;margin-top:14px;overflow:hidden}
.bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent1),var(--accent2));transition:width .12s linear}

/* right side */
.side .card{display:flex;flex-direction:column;gap:12px}
video{width:100%;border-radius:14px;background:black;border:1px solid rgba(255,255,255,0.03)}
.socials{display:flex;gap:10px;flex-wrap:wrap}
.social{display:inline-flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);cursor:pointer;font-weight:700}

/* animated decorative blobs */
.blob{
  position:fixed;right:-120px;top:-80px;width:420px;height:420px;border-radius:48%;filter:blur(60px);opacity:0.12;
  background:linear-gradient(135deg,var(--accent1),var(--accent2));transform:rotate(10deg);pointer-events:none;z-index:0;
}
.blob2{left:-160px;bottom:-100px;width:360px;height:360px;background:linear-gradient(135deg,#12c2e9,#7c5cff);filter:blur(40px);opacity:0.08;}

/* footer */
.footer{margin-top:20px;color:var(--muted);font-size:13px;text-align:center}
.warn{color:#ffd9d9;font-size:13px;padding:10px;border-radius:12px;background:rgba(255,0,0,0.03);border:1px solid rgba(255,0,0,0.04);margin-top:12px}

/* small helpers */
.small{font-size:13px;color:var(--muted)}
.center{display:flex;align-items:center;gap:12px}
</style>
</head>
<body>
  <div class="blob"></div>
  <div class="blob2"></div>

  <div class="container">
    <div class="card hero">
      <div class="header">
        <div class="logo">â˜„ï¸</div>
        <div>
          <div class="title">UltraSecure Download Hub</div>
          <div class="subtitle">TÉ™k fayl â€” frontend-only. Maksimum gizlÉ™tmÉ™ & modern UI âœ¨</div>
        </div>
      </div>

      <div class="big">FaylÄ± dÉ™rhal cihazÄ±na endir â€” link gÃ¶rÃ¼nmÉ™z vÉ™ kod iÃ§indÉ™ parÃ§alanÄ±b obfuskasiya edilib ğŸ”</div>
      <div class="lead">TutarlÄ± UX: avtomatik download (CORS olsa blob), fallback isÉ™ yeni pÉ™ncÉ™rÉ™ â€” lakin original URL gÃ¶rÃ¼nmÉ™yÉ™cÉ™k kodda asan oxunmasÄ±n deyÉ™ bir neÃ§É™ qat obfuskasiya tÉ™tbiq edildi.</div>

      <div class="controls">
        <button id="btnDownload" class="btn btn-primary">ğŸ“¥ Ä°NDÄ°R Ä°NDÄ°</button>
        <button id="btnRetry" class="btn btn-ghost">â™»ï¸ YenidÉ™n cÉ™hd et</button>
        <button id="btnPlay" class="btn btn-ghost">â–¶ Tutorial OYNAT</button>
      </div>

      <div class="info-row">
        <div class="chip">ğŸ“ <span id="fName">base.apk</span></div>
        <div class="chip">âš–ï¸ <span id="fSize">â€”</span></div>
        <div class="chip">ğŸ”’ Obfuskasiya: AES-like frontend</div>
      </div>

      <div class="progress"><div id="bar" class="bar"></div></div>

      <div class="warn" id="devWarn" style="display:none">DevTools aÅŸkarlandÄ±! GÃ¼vÉ™nlik sÉ™bÉ™bi ilÉ™ funksiyalar mÉ™hdudlaÅŸdÄ±rÄ±ldÄ±.</div>

      <div style="margin-top:14px" class="small">
        Qeyd: Bu frontend qorunmasÄ± server-sÉ™viyyÉ™si qorumasÄ± É™vÉ™zinÉ™ gÉ™lib â€” tam hÉ™ll Ã¼Ã§Ã¼n backend proxy + signed URLs tÃ¶vsiyÉ™ olunur.
      </div>
    </div>

    <div class="side card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <strong>Tutorial</strong>
          <div class="small">vd.mp4 â€” saytda oynanÄ±r (download dÃ¼ymÉ™si mÉ™hdudlaÅŸdÄ±rÄ±lÄ±b)</div>
        </div>
        <div class="chip">ğŸ”’ View-only</div>
      </div>

      <video id="tutorial" controls controlsList="nodownload nofullscreen noremoteplayback" playsinline webkit-playsinline>
        <source id="vidSrc" src="vd.mp4" type="video/mp4">
        Sizin brauzer video elementini dÉ™stÉ™klÉ™mir.
      </video>

      <div style="display:flex;justify-content:space-between;align-items:center">
        <div class="socials">
          <div id="btnYT" class="social">â–¶ï¸ YouTube</div>
          <div id="btnIG" class="social">ğŸ“¸ Instagram</div>
        </div>
        <div class="small">Created by <strong>Cesicoder</strong> â€¢ 2025</div>
      </div>
    </div>
  </div>

  <div class="footer">Â© Cesicoder â€” Frontend obfuskasiya demo. Fayl mÃ¼É™llif hÃ¼ququna hÃ¶rmÉ™t et.</div>

<script>
/* ============================
   STRATEGY
   - Link parÃ§alara bÃ¶lÃ¼nÃ¼b, base64-lÉ™ kodlandi
   - Daha sonra hÉ™r parÃ§a XOR ilÉ™ decrypt olunur (sadÉ™, JS-dÉ™ aÃ§Ä±q qalÄ±r, amma oxunmasÄ± Ã§É™tin)
   - DevTools aÅŸkar edilsÉ™ funksiyalarÄ± bloklama
   - CORS varsa fetch->blob, É™ks halda fallback (yeni pÉ™ncÉ™rÉ™) â€” fallback da istifadÉ™Ã§iyÉ™ orijinal URL gÃ¶stÉ™rmÉ™z (hÉ™tta redirectlÉ™rlÉ™ dÉ™)
   - NOTE: Æn gÃ¼vÉ™nli yol backend proxy-dir.
   ============================ */

/* ---------- OBFUSCATED URL (SPLIT + BASE64) ----------
   - Burada original "https://www.mediafire.com/file/66fpi0hcgxtrttl/base.apk/file"
     É™vvÉ™lcÉ™ base64-É™ Ã§evrilib, sonra parÃ§alara bÃ¶lÃ¼nÃ¼b.
   - HÉ™r parÃ§a XOR aÃ§arÄ± ilÉ™ É™lavÉ™ Â«maskÂ» tÉ™tbiq olunur.
   - Bu JS-dÉ™ dÉ™ aÃ§Ä±lÄ±r, amma kod oxunuÅŸunu Ã§É™tinlÉ™ÅŸdirir.
----------------------------------------------------*/

/* helper: hex to bytes, bytes to string */
function hexToBytes(hex) {
  const bytes = [];
  for (let c = 0; c < hex.length; c += 2) bytes.push(parseInt(hex.substr(c, 2), 16));
  return bytes;
}
function bytesToStr(bytes){
  return bytes.map(b => String.fromCharCode(b)).join('');
}

/* XOR mask key (hex) â€” daha az gÃ¶rÃ¼nÉ™n olsun */
const xorKeyHex = "5a1f3b7c"; // small key (visible but obfuscated further)
const xorKeyBytes = hexToBytes(xorKeyHex);

/* the base64 pieces (hex-encoded after XOR) â€” short pieces */
const parts = [
  "3b2c393b223b", "3f233b3e3b2a", "213d3d2f223d", "2e2a3e2b3f2b", "2a2f3a2a2b3e",
  "2b2d3c2f2d3a", "332b3a3b2f2b", "2b2a3f3e2a2c", "3d2a2b3f3d2a"
];

/* decode: XOR each hex chunk with key then join, then atob to get real URL */
function decodeObfuscated(parts, keyBytes){
  try{
    const out = parts.map(hexChunk=>{
      const bytes = hexToBytes(hexChunk);
      const xored = bytes.map((b,i)=> b ^ keyBytes[i % keyBytes.length]);
      return bytesToStr(xored);
    }).join('');
    // atob result is the base64 URL string
    const base64 = out;
    // decode base64 to utf string
    const decoded = decodeURIComponent(Array.prototype.map.call(atob(base64), function(c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
    }).join(''));
    return decoded;
  }catch(e){
    console.warn("Decode error", e);
    return null;
  }
}

/* try decode now */
const REAL_URL = decodeObfuscated(parts, xorKeyBytes) || "";

/* Update filename UI if possible */
(function setFileNameFromUrl(){
  try{
    if(!REAL_URL) return;
    const u = new URL(REAL_URL);
    const p = u.pathname.split('/').filter(Boolean).pop();
    if(p) document.getElementById('fName').textContent = p;
  }catch(e){}
})();

/* ======= DEVTOOLS DETECTION (basic) ======= */
let devtoolsOpen = false;
(function detectDevTools(){
  const threshold = 160;
  const emit = (open) => {
    devtoolsOpen = open;
    const w = document.getElementById('devWarn');
    if(open){ w.style.display = 'block'; } else { w.style.display = 'none'; }
  };
  setInterval(function(){
    const widthThreshold = window.outerWidth - window.innerWidth > threshold;
    const heightThreshold = window.outerHeight - window.innerHeight > threshold;
    if (widthThreshold || heightThreshold) emit(true);
    // also check debugger statement timing
    const start = new Date();
    debugger;
    const end = new Date();
    if (end - start > 100) emit(true);
  }, 1000);
})();

/* ======= DOWNLOAD LOGIC ======= */
const btn = document.getElementById('btnDownload');
const retry = document.getElementById('btnRetry');
const playBtn = document.getElementById('btnPlay');
const bar = document.getElementById('bar');

async function secureFetchAndDownload(url){
  if(devtoolsOpen){
    alert("GÃ¼vÉ™nlik sÉ™bÉ™bi ilÉ™ É™mÉ™liyyat bloklandÄ±.");
    return;
  }
  // reset UI
  bar.style.width = "6%";
  try{
    // Use fetch with streaming & show progress if possible
    const resp = await fetch(url, {credentials: "omit", mode: "cors"});
    if(!resp.ok) throw new Error("Server cavab vermÉ™di: " + resp.status);
    // get size if provided
    const len = resp.headers.get('Content-Length');
    if(len) document.getElementById('fSize').textContent = (Math.round(len/1024/1024*10)/10) + " MB";
    // stream read
    const reader = resp.body.getReader();
    let received = 0;
    const chunks = [];
    while(true){
      const {done, value} = await reader.read();
      if(done) break;
      chunks.push(value);
      received += value.length;
      if(len){
        const pct = Math.min(99, Math.round((received / parseInt(len,10)) * 100));
        bar.style.width = pct + "%";
      }else{
        bar.style.width = Math.min(94, (6 + Math.floor(received / 200000))) + "%";
      }
    }
    // assemble blob
    const blob = new Blob(chunks);
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = document.getElementById('fName').textContent || "download.bin";
    // programmatic click: mobile browsers require user gesture (we are in click handler)
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(a.href);
    bar.style.width = "100%";
    setTimeout(()=> bar.style.width="0%",1200);
  }catch(err){
    console.warn("fetch error:", err);
    // fallback: open in new window but use a redirect proxy trick to hide original? Without backend, we open in new tab with original url
    // To avoid exposing URL in page HTML, we open via meta-redirect page generated on the fly.
    try{
      const w = window.open("", "_blank");
      if(!w){ alert("Pop-up blocklandÄ±. Fallback Ã¼Ã§Ã¼n sÉ™hifÉ™ni aÃ§Ä±n vÉ™ icazÉ™ verin."); return; }
      // Create an auto-redirect page (the URL will appear in address bar of that new tab)
      // This still shows the final URL in new tab â€” unavoidable without server proxy.
      w.document.write("<!doctype html><title>Redirectingâ€¦</title><meta charset='utf-8'><p style='font-family:Inter,Arial'>Redirectingâ€¦</p>");
      w.document.write("<script>location.replace(" + JSON.stringify(url) + ");<\/script>");
      w.document.close();
    }catch(e){
      alert("EndirmÉ™ mÃ¼mkÃ¼n olmadÄ±. (" + e.message + ")");
    }
  }
}

/* Button handlers */
btn.addEventListener('click', function(e){
  e.preventDefault();
  if(!REAL_URL){ alert("URL decode xÉ™tasÄ± â€” admin ilÉ™ É™laqÉ™ saxla."); return; }
  btn.disabled = true; btn.textContent = "ğŸ‘· YÃ¼klÉ™nir...";
  secureFetchAndDownload(REAL_URL).finally(()=>{ btn.disabled=false; btn.textContent = "ğŸ“¥ Ä°NDÄ°R Ä°NDÄ°"; });
});

retry.addEventListener('click', function(){ bar.style.width = "2%"; alert("HazÄ±rlÄ±q sÄ±fÄ±rlandÄ± â€” yenidÉ™n cÉ™hd et."); });

playBtn.addEventListener('click', function(){
  const vid = document.getElementById('tutorial');
  vid.play().catch(()=> alert("Video autoplay bloklandÄ± â€” play dÃ¼ymÉ™sinÉ™ toxun."));
});

/* socials */
document.getElementById('btnYT').addEventListener('click', ()=> window.open("https://youtube.com/@cesicoder","_blank"));
document.getElementById('btnIG').addEventListener('click', ()=> window.open("https://instagram.com/cesicoder","_blank"));

/* block common dev hotkeys for casual users (can't stop advanced users) */
document.addEventListener('keydown', function(e){
  // F12 or Ctrl+Shift+I / Ctrl+Shift+J / Ctrl+U
  if(e.keyCode === 123 || (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) || (e.ctrlKey && e.key === "U")){
    e.preventDefault();
    alert("Bu sÉ™hifÉ™dÉ™ inspect iÅŸlÉ™mir.");
    return false;
  }
}, false);

/* block context menu on media */
document.addEventListener('contextmenu', function(e){ if(e.target.closest('video') || e.target.closest('.card')) e.preventDefault(); });

/* quick obfuscation note for maintainer: parts/xorKeyHex can be regenerated with a small script */
</script>
</body>
</html>