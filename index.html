<!DOCTYPE html>y
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîê CesiSorgu Quantum | Real Data Intelligence Platform</title>
    <meta name="description" content="Tam real i≈ül…ôn…ôn veri emal platformasƒ± - Single-File Architecture">
    <meta name="author" content="CesiSorgu Cyber Systems">
    
    <!-- Quantum Font System -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700;800&family=Orbitron:wght@400;500;600;700;800;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Quantum Script Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.3.0"></script>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ö°</text></svg>">
    
    <style>
        /* === QUANTUM ROOT SYSTEM === */
        :root {
            /* Cyber Hacker Color Matrix */
            --quantum-green: #00ff88;
            --neural-blue: #00eeff;
            --plasma-purple: #aa00ff;
            --cyber-red: #ff0055;
            --fusion-orange: #ff5500;
            --data-cyan: #00ddff;
            --matrix-bg: #0a0a12;
            --void-bg: #050508;
            --hologram-bg: rgba(10, 10, 18, 0.97);
            
            /* Font System */
            --font-matrix: 'JetBrains Mono', monospace;
            --font-digital: 'Orbitron', sans-serif;
            --font-terminal: 'Share Tech Mono', monospace;
            
            /* Transitions */
            --transition-quantum: 0.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            --transition-neural: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* === RESET & BASE === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            overflow-x: hidden;
        }

        body {
            font-family: var(--font-matrix);
            background: var(--matrix-bg);
            color: var(--quantum-green);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* === QUANTUM BACKGROUND === */
        .quantum-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -3;
            background: 
                radial-gradient(circle at 20% 50%, rgba(0, 255, 136, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 238, 255, 0.04) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(170, 0, 255, 0.03) 0%, transparent 50%),
                linear-gradient(45deg, rgba(5, 5, 8, 0.9), rgba(10, 10, 18, 0.9));
            pointer-events: none;
        }

        /* === MATRIX RAIN EFFECT === */
        #matrixRain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            opacity: 0.1;
            pointer-events: none;
        }

        /* === UTILITY CLASSES === */
        .hidden {
            display: none !important;
        }

        .visible {
            display: block !important;
        }

        .flex {
            display: flex;
        }

        .flex-col {
            flex-direction: column;
        }

        .items-center {
            align-items: center;
        }

        .justify-center {
            justify-content: center;
        }

        .justify-between {
            justify-content: space-between;
        }

        .w-full {
            width: 100%;
        }

        .h-full {
            height: 100%;
        }

        .text-center {
            text-align: center;
        }

        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 2rem; }
        .mb-5 { margin-bottom: 3rem; }

        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mt-4 { margin-top: 2rem; }
        .mt-5 { margin-top: 3rem; }

        .p-2 { padding: 1rem; }
        .p-3 { padding: 1.5rem; }
        .p-4 { padding: 2rem; }
        .p-5 { padding: 3rem; }

        .gap-2 { gap: 1rem; }
        .gap-3 { gap: 1.5rem; }
        .gap-4 { gap: 2rem; }

        /* === QUANTUM BUTTONS === */
        .quantum-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 12px 24px;
            font-family: var(--font-digital);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: 2px solid var(--quantum-green);
            background: rgba(0, 255, 136, 0.1);
            color: var(--quantum-green);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all var(--transition-quantum);
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .quantum-btn:hover {
            background: rgba(0, 255, 136, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 255, 136, 0.3);
        }

        .quantum-btn:active {
            transform: translateY(0);
        }

        .quantum-btn-danger {
            border-color: var(--cyber-red);
            background: rgba(255, 0, 85, 0.1);
            color: var(--cyber-red);
        }

        .quantum-btn-danger:hover {
            background: rgba(255, 0, 85, 0.2);
            box-shadow: 0 5px 20px rgba(255, 0, 85, 0.3);
        }

        /* === QUANTUM INPUTS === */
        .quantum-input {
            width: 100%;
            padding: 12px 16px;
            background: rgba(5, 5, 8, 0.8);
            border: 2px solid rgba(0, 255, 136, 0.4);
            border-radius: 4px;
            color: var(--quantum-green);
            font-family: var(--font-terminal);
            font-size: 1rem;
            transition: all var(--transition-neural);
        }

        .quantum-input:focus {
            outline: none;
            border-color: var(--quantum-green);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.5);
            background: rgba(5, 5, 8, 0.9);
        }

        /* === QUANTUM CARDS === */
        .quantum-card {
            background: rgba(5, 5, 8, 0.8);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 8px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
            transition: all var(--transition-neural);
        }

        .quantum-card:hover {
            border-color: var(--quantum-green);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.2);
        }

        /* === HEADER === */
        #quantumHeader {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(5, 5, 8, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid rgba(0, 255, 136, 0.3);
            padding: 1rem 2rem;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            font-size: 2rem;
            color: var(--quantum-green);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .logo-text {
            font-family: var(--font-digital);
            font-size: 1.5rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            background: linear-gradient(45deg, var(--quantum-green), var(--neural-blue));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* === NAVIGATION === */
        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-family: var(--font-digital);
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: all var(--transition-neural);
            font-size: 0.9rem;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--quantum-green);
            background: rgba(0, 255, 136, 0.1);
        }

        /* === MAIN CONTAINER === */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            min-height: calc(100vh - 200px);
        }

        /* === AUTH PAGES === */
        .auth-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .auth-box {
            width: 100%;
            max-width: 500px;
            background: rgba(5, 5, 8, 0.9);
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 12px;
            padding: 2.5rem;
            position: relative;
            overflow: hidden;
        }

        .auth-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.1), transparent);
            animation: scan 3s infinite;
        }

        @keyframes scan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .auth-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid rgba(0, 255, 136, 0.3);
            padding-bottom: 1rem;
        }

        .auth-tab {
            padding: 0.5rem 1.5rem;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-family: var(--font-digital);
            cursor: pointer;
            transition: all var(--transition-neural);
            position: relative;
        }

        .auth-tab:hover,
        .auth-tab.active {
            color: var(--quantum-green);
        }

        .auth-tab.active::after {
            content: '';
            position: absolute;
            bottom: -1rem;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--quantum-green);
        }

        /* === DASHBOARD === */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: linear-gradient(145deg, rgba(0, 255, 136, 0.1), rgba(0, 238, 255, 0.05));
            border: 1px solid rgba(0, 255, 136, 0.2);
        }

        .stat-value {
            font-size: 2.5rem;
            font-family: var(--font-digital);
            font-weight: 700;
            margin: 1rem 0;
            color: var(--quantum-green);
        }

        /* === FILE UPLOAD === */
        .upload-zone {
            border: 3px dashed rgba(0, 255, 136, 0.3);
            border-radius: 8px;
            padding: 3rem;
            text-align: center;
            transition: all var(--transition-neural);
            cursor: pointer;
            margin-bottom: 2rem;
        }

        .upload-zone:hover {
            border-color: var(--quantum-green);
            background: rgba(0, 255, 136, 0.05);
        }

        .upload-zone.dragover {
            border-color: var(--quantum-green);
            background: rgba(0, 255, 136, 0.1);
            transform: scale(1.02);
        }

        /* === IMAGE PREVIEW === */
        .image-preview-container {
            width: 100%;
            max-width: 400px;
            margin: 1rem auto;
            position: relative;
        }

        .image-preview {
            width: 100%;
            height: auto;
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.5);
        }

        /* === AUDIO PLAYER === */
        .audio-player {
            background: rgba(5, 5, 8, 0.9);
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .player-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .play-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(0, 255, 136, 0.2);
            border: 2px solid var(--quantum-green);
            color: var(--quantum-green);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all var(--transition-quantum);
        }

        .play-btn:hover {
            background: rgba(0, 255, 136, 0.3);
            transform: scale(1.1);
        }

        .volume-slider {
            flex: 1;
            height: 6px;
            -webkit-appearance: none;
            background: rgba(0, 255, 136, 0.2);
            border-radius: 3px;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--quantum-green);
            cursor: pointer;
        }

        /* === PROFILE === */
        .profile-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .avatar-container {
            width: 150px;
            height: 150px;
            margin: 0 auto 1.5rem;
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid var(--quantum-green);
            background: rgba(0, 0, 0, 0.5);
        }

        .avatar-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .avatar-upload {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.8);
            padding: 0.5rem;
            text-align: center;
            cursor: pointer;
        }

        /* === ADMIN PANEL === */
        .admin-grid {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
            min-height: 600px;
        }

        .admin-sidebar {
            background: rgba(5, 5, 8, 0.9);
            border-right: 2px solid rgba(0, 255, 136, 0.3);
            padding: 1.5rem;
        }

        .admin-content {
            padding: 1.5rem;
        }

        .user-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .user-table th,
        .user-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(0, 255, 136, 0.2);
        }

        .user-table th {
            font-family: var(--font-digital);
            color: var(--quantum-green);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* === NOTIFICATIONS === */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 1.5rem;
            background: rgba(5, 5, 8, 0.95);
            border: 2px solid;
            border-radius: 8px;
            max-width: 400px;
            z-index: 9999;
            transform: translateX(150%);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-color: var(--quantum-green);
            color: var(--quantum-green);
        }

        .notification.error {
            border-color: var(--cyber-red);
            color: var(--cyber-red);
        }

        .notification.info {
            border-color: var(--neural-blue);
            color: var(--neural-blue);
        }

        /* === LOADING === */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(5, 5, 8, 0.95);
            z-index: 9998;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .quantum-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 136, 0.3);
            border-top: 4px solid var(--quantum-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* === RESPONSIVE DESIGN === */
        @media (max-width: 1024px) {
            .admin-grid {
                grid-template-columns: 1fr;
            }
            
            .admin-sidebar {
                border-right: none;
                border-bottom: 2px solid rgba(0, 255, 136, 0.3);
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .auth-box {
                padding: 1.5rem;
            }
            
            .main-container {
                padding: 1rem;
            }
        }

        @media (max-width: 480px) {
            .auth-tabs {
                flex-direction: column;
            }
            
            .player-controls {
                flex-direction: column;
            }
            
            .volume-slider {
                width: 100%;
            }
        }

        /* === DATA VISUALIZATION === */
        .data-visualization {
            height: 300px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid rgba(0, 255, 136, 0.2);
            margin: 2rem 0;
            position: relative;
            overflow: hidden;
        }

        /* === SESSION TIMER === */
        .session-timer {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 0.5rem 1rem;
            background: rgba(5, 5, 8, 0.9);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 20px;
            font-family: var(--font-terminal);
            font-size: 0.8rem;
            z-index: 100;
        }

        /* === ACTIVITY LOG === */
        .activity-log {
            max-height: 400px;
            overflow-y: auto;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid rgba(0, 255, 136, 0.2);
        }

        .activity-item {
            padding: 0.5rem;
            border-bottom: 1px solid rgba(0, 255, 136, 0.1);
            font-family: var(--font-terminal);
            font-size: 0.9rem;
        }

        /* === FOOTER === */
        .quantum-footer {
            margin-top: 4rem;
            padding: 2rem;
            border-top: 2px solid rgba(0, 255, 136, 0.2);
            background: rgba(5, 5, 8, 0.9);
            text-align: center;
            font-family: var(--font-terminal);
            font-size: 0.9rem;
        }

        /* === CUSTOM SCROLLBAR === */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(5, 5, 8, 0.8);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, var(--quantum-green), var(--neural-blue));
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, var(--neural-blue), var(--quantum-green));
        }
    </style>
</head>
<body>
    <!-- Quantum Background Systems -->
    <div class="quantum-bg"></div>
    <canvas id="matrixRain"></canvas>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="quantum-spinner"></div>
        <div class="loading-text" style="font-family: var(--font-digital);">QUANTUM SYSTEM LOADING...</div>
    </div>

    <!-- Notification System -->
    <div id="notificationContainer"></div>

    <!-- Session Timer -->
    <div id="sessionTimer" class="session-timer hidden">
        <i class="fas fa-clock"></i> <span id="sessionTime">59:59</span>
    </div>

    <!-- Header (Visible after login) -->
    <header id="quantumHeader" class="hidden">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">‚ö°</div>
                <div class="logo-text">CESISORGU QUANTUM</div>
            </div>

            <nav class="nav-links">
                <a href="#dashboard" class="nav-link active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
                <a href="#profile" class="nav-link" data-page="profile">
                    <i class="fas fa-user"></i> Profil
                </a>
                <a href="#upload" class="nav-link" data-page="upload">
                    <i class="fas fa-file-upload"></i> Fayl Emalƒ±
                </a>
                <a href="#media" class="nav-link" data-page="media">
                    <i class="fas fa-photo-video"></i> Media
                </a>
                <a href="#admin" class="nav-link admin-only hidden" data-page="admin">
                    <i class="fas fa-crown"></i> Admin Panel
                </a>
            </nav>

            <div class="user-controls">
                <button id="themeToggle" class="quantum-btn" style="padding: 8px 12px; margin-right: 10px;">
                    <i class="fas fa-moon"></i>
                </button>
                <button id="logoutBtn" class="quantum-btn quantum-btn-danger" style="padding: 8px 12px;">
                    <i class="fas fa-sign-out-alt"></i> √áƒ±xƒ±≈ü
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Container -->
    <main id="mainContent">
        <!-- Auth Pages (Initial View) -->
        <section id="authSection" class="auth-container">
            <div class="auth-box">
                <div class="text-center mb-4">
                    <div class="logo" style="justify-content: center; margin-bottom: 1rem;">
                        <div class="logo-icon">‚ö°</div>
                        <div class="logo-text">CESISORGU QUANTUM</div>
                    </div>
                    <p style="color: rgba(255, 255, 255, 0.7);">Ultimate Data Intelligence Platform</p>
                </div>

                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Giri≈ü</button>
                    <button class="auth-tab" data-tab="register">Qeydiyyat</button>
                </div>

                <!-- Login Form -->
                <form id="loginForm" class="auth-form">
                    <div class="mb-3">
                        <label for="loginUsername" style="display: block; margin-bottom: 0.5rem; font-family: var(--font-digital);">
                            <i class="fas fa-user"></i> ƒ∞stifad…ô√ßi Adƒ±
                        </label>
                        <input type="text" id="loginUsername" class="quantum-input" placeholder="ƒ∞stifad…ô√ßi adƒ±nƒ±zƒ± daxil edin" required>
                    </div>

                    <div class="mb-4">
                        <label for="loginPassword" style="display: block; margin-bottom: 0.5rem; font-family: var(--font-digital);">
                            <i class="fas fa-lock"></i> ≈ûifr…ô
                        </label>
                        <input type="password" id="loginPassword" class="quantum-input" placeholder="≈ûifr…ônizi daxil edin" required>
                    </div>

                    <button type="submit" class="quantum-btn w-full mb-3">
                        <i class="fas fa-sign-in-alt"></i> Giri≈ü Et
                    </button>

                    <div class="text-center" style="color: rgba(255, 255, 255, 0.5); font-size: 0.9rem;">
                        Demo giri≈ü: admin / admin123
                    </div>
                </form>

                <!-- Register Form -->
                <form id="registerForm" class="auth-form hidden">
                    <div class="mb-2">
                        <label for="regName" style="display: block; margin-bottom: 0.5rem; font-family: var(--font-digital);">
                            <i class="fas fa-id-card"></i> Ad
                        </label>
                        <input type="text" id="regName" class="quantum-input" placeholder="Adƒ±nƒ±zƒ± daxil edin" required>
                    </div>

                    <div class="mb-2">
                        <label for="regSurname" style="display: block; margin-bottom: 0.5rem; font-family: var(--font-digital);">
                            <i class="fas fa-id-card"></i> Soyad
                        </label>
                        <input type="text" id="regSurname" class="quantum-input" placeholder="Soyadƒ±nƒ±zƒ± daxil edin" required>
                    </div>

                    <div class="mb-2">
                        <label for="regRegion" style="display: block; margin-bottom: 0.5rem; font-family: var(--font-digital);">
                            <i class="fas fa-map-marker-alt"></i> Rayon
                        </label>
                        <select id="regRegion" class="quantum-input" required>
                            <option value="">Rayon se√ßin</option>
                            <option value="Bakƒ±">Bakƒ±</option>
                            <option value="Sumqayƒ±t">Sumqayƒ±t</option>
                            <option value="G…ônc…ô">G…ônc…ô</option>
                            <option value="Ming…ô√ßevir">Ming…ô√ßevir</option>
                            <option value="Nax√ßƒ±van">Nax√ßƒ±van</option>
                            <option value="≈û…ôki">≈û…ôki</option>
                            <option value="Yevlax">Yevlax</option>
                            <option value="L…ônk…ôran">L…ônk…ôran</option>
                            <option value="≈ûirvan">≈ûirvan</option>
                            <option value="Xƒ±rdalan">Xƒ±rdalan</option>
                        </select>
                    </div>

                    <div class="mb-2">
                        <label for="regPhone" style="display: block; margin-bottom: 0.5rem; font-family: var(--font-digital);">
                            <i class="fas fa-phone"></i> Telefon
                        </label>
                        <input type="tel" id="regPhone" class="quantum-input" placeholder="055 123 45 67" pattern="[0-9]{10}" required>
                    </div>

                    <div class="mb-2">
                        <label for="regUsername" style="display: block; margin-bottom: 0.5rem; font-family: var(--font-digital);">
                            <i class="fas fa-user"></i> ƒ∞stifad…ô√ßi Adƒ±
                        </label>
                        <input type="text" id="regUsername" class="quantum-input" placeholder="ƒ∞stifad…ô√ßi adƒ±nƒ±zƒ± daxil edin" required minlength="3">
                    </div>

                    <div class="mb-4">
                        <label for="regPassword" style="display: block; margin-bottom: 0.5rem; font-family: var(--font-digital);">
                            <i class="fas fa-lock"></i> ≈ûifr…ô
                        </label>
                        <input type="password" id="regPassword" class="quantum-input" placeholder="∆èn azƒ± 6 simvol" required minlength="6">
                        <div class="password-strength mt-1" style="height: 4px; background: rgba(255, 255, 255, 0.1); border-radius: 2px; overflow: hidden;">
                            <div id="passwordStrength" style="height: 100%; width: 0%; background: var(--cyber-red); transition: width 0.3s;"></div>
                        </div>
                    </div>

                    <button type="submit" class="quantum-btn w-full">
                        <i class="fas fa-user-plus"></i> Qeydiyyatdan Ke√ß
                    </button>
                </form>
            </div>
        </section>

        <!-- Dashboard (Hidden initially) -->
        <section id="dashboardSection" class="main-container hidden">
            <div class="flex justify-between items-center mb-5">
                <h1 style="font-family: var(--font-digital);">
                    <i class="fas fa-tachometer-alt"></i> Quantum Dashboard
                </h1>
                <div class="flex items-center gap-3">
                    <div style="padding: 0.5rem 1rem; background: rgba(0, 255, 136, 0.1); border-radius: 20px; font-family: var(--font-digital); font-size: 0.9rem;">
                        <i class="fas fa-circle" style="color: var(--quantum-green);"></i> REAL-TIME
                    </div>
                    <button id="refreshDashboard" class="quantum-btn">
                        <i class="fas fa-sync-alt"></i> Yenil…ô
                    </button>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="dashboard-grid">
                <div class="quantum-card stat-card">
                    <div class="flex justify-between items-center mb-2">
                        <h3><i class="fas fa-database"></i> √úmumi Qeyd</h3>
                        <i class="fas fa-info-circle" style="color: rgba(0, 255, 136, 0.5);"></i>
                    </div>
                    <div class="stat-value" id="totalRecords">0</div>
                    <div style="color: rgba(255, 255, 255, 0.7);">Fayllar</div>
                </div>

                <div class="quantum-card stat-card">
                    <div class="flex justify-between items-center mb-2">
                        <h3><i class="fas fa-users"></i> Aktiv ƒ∞stifad…ô√ßil…ôr</h3>
                        <i class="fas fa-info-circle" style="color: rgba(0, 255, 136, 0.5);"></i>
                    </div>
                    <div class="stat-value" id="activeUsers">1</div>
                    <div style="color: rgba(255, 255, 255, 0.7);">Online</div>
                </div>

                <div class="quantum-card stat-card">
                    <div class="flex justify-between items-center mb-2">
                        <h3><i class="fas fa-shield-alt"></i> T…ôhl√ºk…ôsizlik</h3>
                        <i class="fas fa-info-circle" style="color: rgba(0, 255, 136, 0.5);"></i>
                    </div>
                    <div class="stat-value" id="securityLevel">100%</div>
                    <div style="color: rgba(255, 255, 255, 0.7);">S…ôviyy…ô</div>
                </div>

                <div class="quantum-card stat-card">
                    <div class="flex justify-between items-center mb-2">
                        <h3><i class="fas fa-server"></i> Sistem Y√ºk√º</h3>
                        <i class="fas fa-info-circle" style="color: rgba(0, 255, 136, 0.5);"></i>
                    </div>
                    <div class="stat-value" id="systemLoad">12%</div>
                    <div style="color: rgba(255, 255, 255, 0.7);">CPU Usage</div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quantum-card mt-4">
                <h3 class="mb-3"><i class="fas fa-bolt"></i> S√ºr…ôtli ∆èm…ôliyyatlar</h3>
                <div class="flex gap-3 flex-wrap">
                    <button id="quickUpload" class="quantum-btn">
                        <i class="fas fa-upload"></i> Fayl Y√ºkl…ô
                    </button>
                    <button id="quickAnalysis" class="quantum-btn">
                        <i class="fas fa-chart-bar"></i> Analiz Et
                    </button>
                    <button id="quickBackup" class="quantum-btn">
                        <i class="fas fa-database"></i> Backup Yarat
                    </button>
                    <button id="quickExport" class="quantum-btn">
                        <i class="fas fa-file-export"></i> Export Et
                    </button>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="quantum-card mt-4">
                <h3 class="mb-3"><i class="fas fa-history"></i> Son F…ôaliyy…ôt</h3>
                <div class="activity-log" id="activityLog">
                    <div class="activity-item">Sistem…ô giri≈ü edildi - 1 d…ôqiq…ô …ôvv…ôl</div>
                    <div class="activity-item">Dashboard yenil…ôndi - 2 d…ôqiq…ô …ôvv…ôl</div>
                    <div class="activity-item">ƒ∞stifad…ô√ßi m…ôlumatlarƒ± yoxlanƒ±ldƒ± - 5 d…ôqiq…ô …ôvv…ôl</div>
                </div>
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profileSection" class="main-container hidden">
            <div class="profile-header">
                <div class="avatar-container">
                    <img id="avatarImage" class="avatar-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%2300ff88' opacity='0.2'/%3E%3Ctext x='50' y='60' font-family='Arial' font-size='40' text-anchor='middle' fill='%2300ff88'%3EU%3C/text%3E%3C/svg%3E" alt="Avatar">
                    <div class="avatar-upload" id="avatarUploadBtn">
                        <i class="fas fa-camera"></i> ≈û…ôkil d…ôyi≈ü
                    </div>
                    <input type="file" id="avatarFileInput" accept="image/*" class="hidden">
                </div>
                <h1 id="profileName" style="font-family: var(--font-digital); margin-bottom: 0.5rem;">ƒ∞stifad…ô√ßi Profili</h1>
                <p id="profileRole" style="color: rgba(0, 255, 136, 0.7); font-family: var(--font-terminal);">ƒ∞stifad…ô√ßi</p>
            </div>

            <div class="quantum-card">
                <h3 class="mb-3"><i class="fas fa-user-circle"></i> ≈û…ôxsi M…ôlumatlar</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label style="display: block; margin-bottom: 0.5rem; color: rgba(255, 255, 255, 0.7);">Ad</label>
                        <div class="profile-field" id="profileFirstName" style="padding: 0.8rem; background: rgba(0, 0, 0, 0.3); border-radius: 4px; font-family: var(--font-terminal);">Y√ºkl…ônir...</div>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 0.5rem; color: rgba(255, 255, 255, 0.7);">Soyad</label>
                        <div class="profile-field" id="profileLastName" style="padding: 0.8rem; background: rgba(0, 0, 0, 0.3); border-radius: 4px; font-family: var(--font-terminal);">Y√ºkl…ônir...</div>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 0.5rem; color: rgba(255, 255, 255, 0.7);">Rayon</label>
                        <div class="profile-field" id="profileRegion" style="padding: 0.8rem; background: rgba(0, 0, 0, 0.3); border-radius: 4px; font-family: var(--font-terminal);">Y√ºkl…ônir...</div>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 0.5rem; color: rgba(255, 255, 255, 0.7);">Telefon</label>
                        <div class="profile-field" id="profilePhone" style="padding: 0.8rem; background: rgba(0, 0, 0, 0.3); border-radius: 4px; font-family: var(--font-terminal);">Y√ºkl…ônir...</div>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 0.5rem; color: rgba(255, 255, 255, 0.7);">ƒ∞stifad…ô√ßi Adƒ±</label>
                        <div class="profile-field" id="profileUsername" style="padding: 0.8rem; background: rgba(0, 0, 0, 0.3); border-radius: 4px; font-family: var(--font-terminal);">Y√ºkl…ônir...</div>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 0.5rem; color: rgba(255, 255, 255, 0.7);">Qeydiyyat Tarixi</label>
                        <div class="profile-field" id="profileRegDate" style="padding: 0.8rem; background: rgba(0, 0, 0, 0.3); border-radius: 4px; font-family: var(--font-terminal);">Y√ºkl…ônir...</div>
                    </div>
                </div>

                <div class="mt-4">
                    <button id="changePasswordBtn" class="quantum-btn">
                        <i class="fas fa-key"></i> ≈ûifr…ôni D…ôyi≈ü
                    </button>
                    <button id="updateProfileBtn" class="quantum-btn" style="margin-left: 1rem;">
                        <i class="fas fa-edit"></i> M…ôlumatlarƒ± Yenil…ô
                    </button>
                </div>
            </div>

            <!-- Session History -->
            <div class="quantum-card mt-4">
                <h3 class="mb-3"><i class="fas fa-clock"></i> Giri≈ü Tarix√ß…ôsi</h3>
                <div id="sessionHistory" class="activity-log">
                    <div class="activity-item">Son giri≈ü: Y√ºkl…ônir...</div>
                </div>
            </div>
        </section>

        <!-- File Upload Page -->
        <section id="uploadSection" class="main-container hidden">
            <h1 class="mb-4" style="font-family: var(--font-digital);">
                <i class="fas fa-file-upload"></i> Fayl Emal Sistemi
            </h1>

            <div class="quantum-card mb-4">
                <h3 class="mb-3"><i class="fas fa-info-circle"></i> T…ôl…ôbl…ôr</h3>
                <ul style="padding-left: 1.5rem; color: rgba(255, 255, 255, 0.8);">
                    <li>Yalnƒ±z <strong>cesisorgu.txt</strong> faylƒ± q…ôbul edilir</li>
                    <li>Fayl √∂l√ß√ºs√º maksimum 10MB</li>
                    <li>Fayl UTF-8 formatƒ±nda olmalƒ±dƒ±r</li>
                    <li>M…ôzmun avtomatik analiz edil…ôc…ôk</li>
                </ul>
            </div>

            <!-- Upload Zone -->
            <div class="upload-zone" id="uploadZone">
                <div style="font-size: 4rem; color: rgba(0, 255, 136, 0.5); margin-bottom: 1rem;">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <h3 style="font-family: var(--font-digital); margin-bottom: 0.5rem;">Faylƒ± buraya s√ºr√ºkl…ôyin</h3>
                <p style="color: rgba(255, 255, 255, 0.6); margin-bottom: 1.5rem;">v…ô ya klik edin</p>
                <div class="quantum-btn">
                    <i class="fas fa-folder-open"></i> Fayl Se√ß
                </div>
                <input type="file" id="fileInput" accept=".txt" class="hidden">
            </div>

            <!-- File Analysis Results -->
            <div id="analysisResults" class="quantum-card mt-4 hidden">
                <h3 class="mb-3"><i class="fas fa-chart-bar"></i> Analiz N…ôtic…ôl…ôri</h3>
                <div id="resultsContent">
                    <!-- Results will be populated here -->
                </div>
            </div>

            <!-- Previous Uploads -->
            <div class="quantum-card mt-4">
                <h3 class="mb-3"><i class="fas fa-history"></i> ∆èvv…ôlki Y√ºkl…ôm…ôl…ôr</h3>
                <div id="previousUploads" class="activity-log">
                    <div class="activity-item">H…ôl…ô y√ºkl…ônmi≈ü fayl yoxdur</div>
                </div>
            </div>
        </section>

        <!-- Media Page -->
        <section id="mediaSection" class="main-container hidden">
            <h1 class="mb-4" style="font-family: var(--font-digital);">
                <i class="fas fa-photo-video"></i> Media M…ôrk…ôzi
            </h1>

            <!-- Image Upload -->
            <div class="quantum-card mb-4">
                <h3 class="mb-3"><i class="fas fa-image"></i> ≈û…ôkil Y√ºkl…ô</h3>
                <div class="upload-zone" id="imageUploadZone" style="padding: 2rem;">
                    <div style="font-size: 3rem; color: rgba(0, 255, 136, 0.5); margin-bottom: 1rem;">
                        <i class="fas fa-images"></i>
                    </div>
                    <p style="color: rgba(255, 255, 255, 0.6); margin-bottom: 1.5rem;">≈û…ôkli buraya s√ºr√ºkl…ôyin v…ô ya klik edin</p>
                    <div class="quantum-btn">
                        <i class="fas fa-camera"></i> ≈û…ôkil Se√ß
                    </div>
                    <input type="file" id="imageInput" accept="image/*" class="hidden">
                </div>

                <!-- Image Preview -->
                <div id="imagePreviewContainer" class="image-preview-container hidden">
                    <img id="imagePreview" class="image-preview" alt="Preview">
                    <div class="flex justify-center mt-3 gap-2">
                        <button id="saveImageBtn" class="quantum-btn">
                            <i class="fas fa-save"></i> Saxla
                        </button>
                        <button id="removeImageBtn" class="quantum-btn quantum-btn-danger">
                            <i class="fas fa-trash"></i> Sil
                        </button>
                    </div>
                </div>
            </div>

            <!-- Audio Player -->
            <div class="quantum-card">
                <h3 class="mb-3"><i class="fas fa-music"></i> Audio Pleyer</h3>
                
                <div class="audio-player">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <h4 id="currentTrack" style="font-family: var(--font-digital);">Se√ßilmi≈ü audio yoxdur</h4>
                            <p id="trackInfo" style="color: rgba(255, 255, 255, 0.6); font-size: 0.9rem;">00:00 / 00:00</p>
                        </div>
                        <div class="quantum-btn" id="audioUploadBtn">
                            <i class="fas fa-upload"></i> Audio Y√ºkl…ô
                        </div>
                        <input type="file" id="audioInput" accept="audio/*" class="hidden">
                    </div>

                    <div class="player-controls">
                        <button id="playBtn" class="play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                        <div style="flex: 1; margin: 0 1rem;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <span id="currentTime">00:00</span>
                                <span id="duration">00:00</span>
                            </div>
                            <input type="range" id="progressBar" min="0" max="100" value="0" style="width: 100%; height: 6px; border-radius: 3px; background: rgba(0, 255, 136, 0.2);">
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <i class="fas fa-volume-down" style="color: var(--quantum-green);"></i>
                            <input type="range" id="volumeControl" min="0" max="100" value="50" class="volume-slider">
                            <i class="fas fa-volume-up" style="color: var(--quantum-green);"></i>
                        </div>
                    </div>

                    <!-- Audio Visualization -->
                    <div style="height: 100px; margin-top: 1rem; position: relative;">
                        <canvas id="audioVisualizer" style="width: 100%; height: 100%; border-radius: 4px; background: rgba(0, 0, 0, 0.3);"></canvas>
                    </div>
                </div>

                <!-- Audio Library -->
                <div class="mt-4">
                    <h4 style="font-family: var(--font-digital); margin-bottom: 1rem;">
                        <i class="fas fa-folder-open"></i> Audio Kitabxana
                    </h4>
                    <div id="audioLibrary" class="activity-log" style="max-height: 200px;">
                        <div class="activity-item">Audio y√ºkl…ônm…ôyib</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Admin Panel -->
        <section id="adminSection" class="main-container hidden">
            <h1 class="mb-4" style="font-family: var(--font-digital);">
                <i class="fas fa-crown"></i> Admin Panel
            </h1>

            <div class="admin-grid">
                <!-- Sidebar -->
                <div class="admin-sidebar">
                    <h3 style="font-family: var(--font-digital); margin-bottom: 1.5rem; color: var(--quantum-green);">
                        <i class="fas fa-cogs"></i> ƒ∞dar…ôetm…ô
                    </h3>
                    <nav style="display: flex; flex-direction: column; gap: 0.5rem;">
                        <button class="nav-link admin-nav active" data-admin-tab="users">
                            <i class="fas fa-users"></i> ƒ∞stifad…ô√ßil…ôr
                        </button>
                        <button class="nav-link admin-nav" data-admin-tab="system">
                            <i class="fas fa-server"></i> Sistem
                        </button>
                        <button class="nav-link admin-nav" data-admin-tab="logs">
                            <i class="fas fa-clipboard-list"></i> Loglar
                        </button>
                        <button class="nav-link admin-nav" data-admin-tab="backup">
                            <i class="fas fa-database"></i> Backup
                        </button>
                        <button class="nav-link admin-nav" data-admin-tab="security">
                            <i class="fas fa-shield-alt"></i> T…ôhl√ºk…ôsizlik
                        </button>
                    </nav>

                    <!-- System Stats -->
                    <div class="quantum-card mt-4">
                        <h4 style="font-size: 0.9rem; margin-bottom: 0.5rem;">Sistem Statusu</h4>
                        <div style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.7);">
                            <div class="flex justify-between">
                                <span>ƒ∞stifad…ô√ßil…ôr:</span>
                                <span id="adminUserCount">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Fayllar:</span>
                                <span id="adminFileCount">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Yadda≈ü:</span>
                                <span id="adminMemoryUsage">0 MB</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content Area -->
                <div class="admin-content">
                    <!-- Users Tab -->
                    <div id="adminUsersTab" class="admin-tab">
                        <div class="flex justify-between items-center mb-3">
                            <h3><i class="fas fa-users"></i> ƒ∞stifad…ô√ßi ƒ∞dar…ôetm…ôsi</h3>
                            <button id="exportUsersBtn" class="quantum-btn">
                                <i class="fas fa-file-export"></i> Export
                            </button>
                        </div>

                        <table class="user-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Ad</th>
                                    <th>Soyad</th>
                                    <th>Rayon</th>
                                    <th>Telefon</th>
                                    <th>ƒ∞stifad…ô√ßi Adƒ±</th>
                                    <th>Rol</th>
                                    <th>Son Giri≈ü</th>
                                    <th>∆èm…ôliyyat</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Users will be populated here -->
                            </tbody>
                        </table>
                    </div>

                    <!-- System Tab -->
                    <div id="adminSystemTab" class="admin-tab hidden">
                        <h3 class="mb-3"><i class="fas fa-server"></i> Sistem Monitorinqi</h3>
                        <div class="dashboard-grid">
                            <div class="quantum-card">
                                <h4>CPU ƒ∞stifad…ôsi</h4>
                                <div class="progress-bar" style="height: 20px; background: rgba(0, 0, 0, 0.3); border-radius: 10px; margin: 1rem 0; overflow: hidden;">
                                    <div id="cpuUsage" style="height: 100%; width: 15%; background: linear-gradient(90deg, var(--quantum-green), var(--neural-blue));"></div>
                                </div>
                                <div style="text-align: center; font-family: var(--font-digital);">15%</div>
                            </div>
                            <div class="quantum-card">
                                <h4>Yadda≈ü ƒ∞stifad…ôsi</h4>
                                <div class="progress-bar" style="height: 20px; background: rgba(0, 0, 0, 0.3); border-radius: 10px; margin: 1rem 0; overflow: hidden;">
                                    <div id="memoryUsage" style="height: 100%; width: 42%; background: linear-gradient(90deg, var(--neural-blue), var(--plasma-purple));"></div>
                                </div>
                                <div style="text-align: center; font-family: var(--font-digital);">42%</div>
                            </div>
                            <div class="quantum-card">
                                <h4>Database √ñl√ß√ºs√º</h4>
                                <div class="progress-bar" style="height: 20px; background: rgba(0, 0, 0, 0.3); border-radius: 10px; margin: 1rem 0; overflow: hidden;">
                                    <div id="dbUsage" style="height: 100%; width: 28%; background: linear-gradient(90deg, var(--plasma-purple), var(--cyber-red));"></div>
                                </div>
                                <div style="text-align: center; font-family: var(--font-digital);">28%</div>
                            </div>
                        </div>

                        <div class="quantum-card mt-4">
                            <h4 class="mb-3">Sistem ∆èm…ôliyyatlarƒ±</h4>
                            <div class="flex gap-3 flex-wrap">
                                <button id="clearCacheBtn" class="quantum-btn">
                                    <i class="fas fa-broom"></i> Cache T…ômizl…ô
                                </button>
                                <button id="optimizeDbBtn" class="quantum-btn">
                                    <i class="fas fa-database"></i> DB Optimizasiya
                                </button>
                                <button id="systemBackupBtn" class="quantum-btn">
                                    <i class="fas fa-save"></i> Tam Backup
                                </button>
                                <button id="systemResetBtn" class="quantum-btn quantum-btn-danger">
                                    <i class="fas fa-redo"></i> Sistem Reset
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Logs Tab -->
                    <div id="adminLogsTab" class="admin-tab hidden">
                        <h3 class="mb-3"><i class="fas fa-clipboard-list"></i> Sistem Loglarƒ±</h3>
                        <div class="activity-log" style="max-height: 500px;" id="systemLogs">
                            <!-- Logs will be populated here -->
                        </div>
                        <div class="flex gap-3 mt-3">
                            <button id="clearLogsBtn" class="quantum-btn quantum-btn-danger">
                                <i class="fas fa-trash"></i> Loglarƒ± T…ômizl…ô
                            </button>
                            <button id="exportLogsBtn" class="quantum-btn">
                                <i class="fas fa-download"></i> Loglarƒ± Endir
                            </button>
                        </div>
                    </div>

                    <!-- Backup Tab -->
                    <div id="adminBackupTab" class="admin-tab hidden">
                        <h3 class="mb-3"><i class="fas fa-database"></i> Backup ƒ∞dar…ôetm…ôsi</h3>
                        <div class="quantum-card mb-4">
                            <h4 class="mb-3">Yeni Backup Yarat</h4>
                            <div class="flex gap-3 flex-wrap">
                                <button id="backupUsersBtn" class="quantum-btn">
                                    <i class="fas fa-users"></i> ƒ∞stifad…ô√ßil…ôr
                                </button>
                                <button id="backupFilesBtn" class="quantum-btn">
                                    <i class="fas fa-file"></i> Fayllar
                                </button>
                                <button id="backupSystemBtn" class="quantum-btn">
                                    <i class="fas fa-server"></i> Tam Sistem
                                </button>
                            </div>
                        </div>

                        <div class="quantum-card">
                            <h4 class="mb-3">M√∂vcud Backuplar</h4>
                            <div id="backupList" class="activity-log" style="max-height: 300px;">
                                <!-- Backups will be listed here -->
                            </div>
                        </div>
                    </div>

                    <!-- Security Tab -->
                    <div id="adminSecurityTab" class="admin-tab hidden">
                        <h3 class="mb-3"><i class="fas fa-shield-alt"></i> T…ôhl√ºk…ôsizlik M…ôrk…ôzi</h3>
                        <div class="dashboard-grid">
                            <div class="quantum-card">
                                <h4>≈ûifr…ô T…ôhl√ºk…ôsizliyi</h4>
                                <div style="margin-top: 1rem;">
                                    <div class="flex justify-between">
                                        <span>Z…ôif ≈ûifr…ôl…ôr:</span>
                                        <span id="weakPasswords">0</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>T…ôkrar Giri≈ü C…ôhdl…ôri:</span>
                                        <span id="failedAttempts">0</span>
                                    </div>
                                </div>
                                <button id="passwordAuditBtn" class="quantum-btn w-full mt-3">
                                    <i class="fas fa-search"></i> Audit Et
                                </button>
                            </div>

                            <div class="quantum-card">
                                <h4>Session ƒ∞dar…ôetm…ôsi</h4>
                                <div style="margin-top: 1rem;">
                                    <div class="flex justify-between">
                                        <span>Aktiv Sessionlar:</span>
                                        <span id="activeSessions">1</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>M√ºdd…ôti Bitmi≈ü:</span>
                                        <span id="expiredSessions">0</span>
                                    </div>
                                </div>
                                <button id="sessionCleanupBtn" class="quantum-btn w-full mt-3">
                                    <i class="fas fa-broom"></i> T…ômizl…ô
                                </button>
                            </div>

                            <div class="quantum-card">
                                <h4>Fayl T…ôhl√ºk…ôsizliyi</h4>
                                <div style="margin-top: 1rem;">
                                    <div class="flex justify-between">
                                        <span>Yoxlanƒ±lmƒ±≈ü Fayllar:</span>
                                        <span id="scannedFiles">0</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>≈û√ºbh…ôli Fayllar:</span>
                                        <span id="suspiciousFiles">0</span>
                                    </div>
                                </div>
                                <button id="scanFilesBtn" class="quantum-btn w-full mt-3">
                                    <i class="fas fa-shield-virus"></i> Scan Et
                                </button>
                            </div>
                        </div>

                        <div class="quantum-card mt-4">
                            <h4 class="mb-3">T…ôhl√ºk…ôsizlik Parametrl…ôri</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" id="enable2FA" checked>
                                        <span>2-Faktorlu Autentifikasiya</span>
                                    </label>
                                </div>
                                <div>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" id="enableIPCheck" checked>
                                        <span>IP Yoxlamasƒ±</span>
                                    </label>
                                </div>
                                <div>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" id="enableBruteForce" checked>
                                        <span>Brute Force Qorunmasƒ±</span>
                                    </label>
                                </div>
                                <div>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" id="enableAutoLogout" checked>
                                        <span>Avtomatik Logout (60 d…ôq)</span>
                                    </label>
                                </div>
                            </div>
                            <button id="saveSecurityBtn" class="quantum-btn mt-3">
                                <i class="fas fa-save"></i> Parametrl…ôri Saxla
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="quantum-footer hidden" id="mainFooter">
        <div style="max-width: 1200px; margin: 0 auto;">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-6">
                <div>
                    <h4 style="font-family: var(--font-digital); color: var(--quantum-green); margin-bottom: 1rem;">
                        <i class="fas fa-shield-alt"></i> CesiSorgu Quantum
                    </h4>
                    <p style="color: rgba(255, 255, 255, 0.6); font-size: 0.9rem;">
                        Real-time data intelligence platform. Single-file architecture.
                    </p>
                </div>
                <div>
                    <h4 style="font-family: var(--font-digital); color: var(--quantum-green); margin-bottom: 1rem;">
                        <i class="fas fa-link"></i> Quick Links
                    </h4>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                        <a href="#dashboard" class="nav-link" style="padding: 0; display: inline-block; width: fit-content;">Dashboard</a>
                        <a href="#profile" class="nav-link" style="padding: 0; display: inline-block; width: fit-content;">Profil</a>
                        <a href="#upload" class="nav-link" style="padding: 0; display: inline-block; width: fit-content;">Fayl Emalƒ±</a>
                    </div>
                </div>
                <div>
                    <h4 style="font-family: var(--font-digital); color: var(--quantum-green); margin-bottom: 1rem;">
                        <i class="fas fa-code"></i> Texnologiyalar
                    </h4>
                    <div style="display: flex; gap: 1rem; color: rgba(255, 255, 255, 0.6); font-size: 0.9rem;">
                        <span>HTML5</span>
                        <span>CSS3</span>
                        <span>ES6+</span>
                        <span>IndexedDB</span>
                    </div>
                </div>
            </div>
            <div style="border-top: 1px solid rgba(0, 255, 136, 0.2); padding-top: 1rem; text-align: center; color: rgba(255, 255, 255, 0.5); font-size: 0.8rem;">
                ¬© 2024 CesiSorgu Quantum. B√ºt√ºn h√ºquqlar qorunur. Real production system.
            </div>
        </div>
    </footer>

    <!-- Hidden File Inputs -->
    <input type="file" id="hiddenFileInput" class="hidden" accept=".txt">
    <input type="file" id="hiddenImageInput" class="hidden" accept="image/*">
    <input type="file" id="hiddenAudioInput" class="hidden" accept="audio/*">

    <!-- Hidden Elements for Data Storage -->
    <div id="dataStorage" class="hidden"></div>

    <!-- JavaScript Application -->
    <script>
        // ============================================
        // QUANTUM SYSTEM CORE - COMPLETE APPLICATION
        // ============================================

        class QuantumSystem {
            constructor() {
                this.VERSION = '3.0.0';
                this.DB_NAME = 'CesiSorguQuantumDB';
                this.DB_VERSION = 2;
                
                this.db = null;
                this.currentUser = null;
                this.currentPage = 'dashboard';
                this.sessionTimer = null;
                this.sessionDuration = 60 * 60 * 1000; // 60 minutes
                this.audioContext = null;
                this.audioAnalyser = null;
                this.audioSource = null;
                this.currentAudio = null;
                
                // Initialize system
                this.init();
            }

            async init() {
                console.log('üöÄ Quantum System Initializing...');
                
                // Show loading
                this.showLoading();
                
                // Initialize database
                await this.initDatabase();
                
                // Initialize UI
                await this.initUI();
                
                // Initialize event listeners
                this.initEventListeners();
                
                // Check for existing session
                await this.checkSession();
                
                // Start background effects
                this.initBackgroundEffects();
                
                // Hide loading
                this.hideLoading();
                
                console.log('‚úÖ Quantum System Ready');
                this.showNotification('Sistem hazƒ±rdƒ±r', 'success');
            }

            async initDatabase() {
                return new Promise((resolve, reject) => {
                    const request = indexedDB.open(this.DB_NAME, this.DB_VERSION);
                    
                    request.onerror = (event) => {
                        console.error('Database error:', event.target.error);
                        reject(event.target.error);
                    };
                    
                    request.onsuccess = (event) => {
                        this.db = event.target.result;
                        console.log('‚úÖ Database initialized');
                        resolve();
                    };
                    
                    request.onupgradeneeded = (event) => {
                        const db = event.target.result;
                        
                        // Create users store
                        if (!db.objectStoreNames.contains('users')) {
                            const usersStore = db.createObjectStore('users', { keyPath: 'id', autoIncrement: true });
                            usersStore.createIndex('username', 'username', { unique: true });
                            usersStore.createIndex('email', 'email', { unique: false });
                            usersStore.createIndex('createdAt', 'createdAt', { unique: false });
                            
                            // Add default admin user
                            const adminUser = {
                                username: 'admin',
                                password: this.hashPassword('admin123'),
                                name: 'System',
                                surname: 'Administrator',
                                region: 'Bakƒ±',
                                phone: '0551234567',
                                role: 'admin',
                                createdAt: new Date().toISOString(),
                                lastLogin: new Date().toISOString(),
                                avatar: null,
                                settings: { theme: 'dark', notifications: true }
                            };
                            
                            const transaction = event.target.transaction;
                            const store = transaction.objectStore('users');
                            store.add(adminUser);
                        }
                        
                        // Create files store
                        if (!db.objectStoreNames.contains('files')) {
                            const filesStore = db.createObjectStore('files', { keyPath: 'id', autoIncrement: true });
                            filesStore.createIndex('userId', 'userId', { unique: false });
                            filesStore.createIndex('filename', 'filename', { unique: false });
                            filesStore.createIndex('uploadedAt', 'uploadedAt', { unique: false });
                        }
                        
                        // Create images store
                        if (!db.objectStoreNames.contains('images')) {
                            const imagesStore = db.createObjectStore('images', { keyPath: 'id', autoIncrement: true });
                            imagesStore.createIndex('userId', 'userId', { unique: false });
                        }
                        
                        // Create audios store
                        if (!db.objectStoreNames.contains('audios')) {
                            const audiosStore = db.createObjectStore('audios', { keyPath: 'id', autoIncrement: true });
                            audiosStore.createIndex('userId', 'userId', { unique: false });
                        }
                        
                        // Create logs store
                        if (!db.objectStoreNames.contains('logs')) {
                            const logsStore = db.createObjectStore('logs', { keyPath: 'id', autoIncrement: true });
                            logsStore.createIndex('type', 'type', { unique: false });
                            logsStore.createIndex('timestamp', 'timestamp', { unique: false });
                        }
                        
                        // Create sessions store
                        if (!db.objectStoreNames.contains('sessions')) {
                            const sessionsStore = db.createObjectStore('sessions', { keyPath: 'id', autoIncrement: true });
                            sessionsStore.createIndex('userId', 'userId', { unique: false });
                            sessionsStore.createIndex('expires', 'expires', { unique: false });
                        }
                        
                        // Create backups store
                        if (!db.objectStoreNames.contains('backups')) {
                            const backupsStore = db.createObjectStore('backups', { keyPath: 'id', autoIncrement: true });
                            backupsStore.createIndex('createdAt', 'createdAt', { unique: false });
                        }
                        
                        console.log('‚úÖ Database schema created');
                    };
                });
            }

            async initUI() {
                // Initialize auth tabs
                document.querySelectorAll('.auth-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
                        e.target.classList.add('active');
                        
                        if (e.target.dataset.tab === 'login') {
                            document.getElementById('loginForm').classList.remove('hidden');
                            document.getElementById('registerForm').classList.add('hidden');
                        } else {
                            document.getElementById('loginForm').classList.add('hidden');
                            document.getElementById('registerForm').classList.remove('hidden');
                        }
                    });
                });
                
                // Initialize password strength checker
                const passwordInput = document.getElementById('regPassword');
                if (passwordInput) {
                    passwordInput.addEventListener('input', (e) => {
                        const strength = this.checkPasswordStrength(e.target.value);
                        document.getElementById('passwordStrength').style.width = `${strength}%`;
                        document.getElementById('passwordStrength').style.background = 
                            strength < 30 ? 'var(--cyber-red)' : 
                            strength < 70 ? 'var(--fusion-orange)' : 'var(--quantum-green)';
                    });
                }
                
                // Initialize theme toggle
                const themeToggle = document.getElementById('themeToggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', () => {
                        document.body.classList.toggle('light-theme');
                        const icon = themeToggle.querySelector('i');
                        if (document.body.classList.contains('light-theme')) {
                            icon.classList.remove('fa-moon');
                            icon.classList.add('fa-sun');
                            this.showNotification('Light tema aktiv edildi', 'info');
                        } else {
                            icon.classList.remove('fa-sun');
                            icon.classList.add('fa-moon');
                            this.showNotification('Dark tema aktiv edildi', 'info');
                        }
                    });
                }
            }

            initEventListeners() {
                // Login form
                document.getElementById('loginForm').addEventListener('submit', async (e) => {
                    e.preventDefault();
                    await this.handleLogin();
                });
                
                // Register form
                document.getElementById('registerForm').addEventListener('submit', async (e) => {
                    e.preventDefault();
                    await this.handleRegister();
                });
                
                // Logout button
                document.getElementById('logoutBtn').addEventListener('click', () => {
                    this.handleLogout();
                });
                
                // Navigation links
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = link.dataset.page;
                        this.navigateTo(page);
                    });
                });
                
                // Admin navigation
                document.querySelectorAll('.admin-nav').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        document.querySelectorAll('.admin-nav').forEach(l => l.classList.remove('active'));
                        e.target.classList.add('active');
                        
                        const tab = e.target.dataset.adminTab;
                        this.showAdminTab(tab);
                    });
                });
                
                // File upload
                const fileInput = document.getElementById('fileInput');
                const uploadZone = document.getElementById('uploadZone');
                
                uploadZone.addEventListener('click', () => fileInput.click());
                
                uploadZone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    uploadZone.classList.add('dragover');
                });
                
                uploadZone.addEventListener('dragleave', () => {
                    uploadZone.classList.remove('dragover');
                });
                
                uploadZone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    uploadZone.classList.remove('dragover');
                    
                    if (e.dataTransfer.files.length) {
                        this.handleFileUpload(e.dataTransfer.files[0]);
                    }
                });
                
                fileInput.addEventListener('change', (e) => {
                    if (e.target.files.length) {
                        this.handleFileUpload(e.target.files[0]);
                    }
                });
                
                // Image upload
                const imageInput = document.getElementById('imageInput');
                const imageUploadZone = document.getElementById('imageUploadZone');
                
                imageUploadZone.addEventListener('click', () => imageInput.click());
                imageInput.addEventListener('change', (e) => {
                    if (e.target.files.length) {
                        this.handleImageUpload(e.target.files[0]);
                    }
                });
                
                // Audio upload and player
                this.initAudioPlayer();
                
                // Quick actions
                document.getElementById('refreshDashboard')?.addEventListener('click', () => {
                    this.refreshDashboard();
                });
                
                document.getElementById('quickUpload')?.addEventListener('click', () => {
                    this.navigateTo('upload');
                });
                
                document.getElementById('quickAnalysis')?.addEventListener('click', () => {
                    this.showNotification('Analiz ba≈üladƒ±...', 'info');
                    setTimeout(() => {
                        this.showNotification('Analiz tamamlandƒ±', 'success');
                    }, 2000);
                });
                
                // Avatar upload
                document.getElementById('avatarUploadBtn')?.addEventListener('click', () => {
                    document.getElementById('avatarFileInput').click();
                });
                
                document.getElementById('avatarFileInput')?.addEventListener('change', async (e) => {
                    if (e.target.files.length) {
                        await this.handleAvatarUpload(e.target.files[0]);
                    }
                });
            }

            async handleLogin() {
                const username = document.getElementById('loginUsername').value;
                const password = document.getElementById('loginPassword').value;
                
                if (!username || !password) {
                    this.showNotification('Z…ôhm…ôt olmasa b√ºt√ºn sah…ôl…ôri doldurun', 'error');
                    return;
                }
                
                this.showLoading();
                
                try {
                    const user = await this.authenticateUser(username, password);
                    
                    if (user) {
                        // Create session
                        await this.createSession(user.id);
                        
                        // Update last login
                        user.lastLogin = new Date().toISOString();
                        await this.updateUser(user.id, { lastLogin: user.lastLogin });
                        
                        // Set current user
                        this.currentUser = user;
                        
                        // Log activity
                        await this.logActivity('LOGIN', `ƒ∞stifad…ô√ßi giri≈ü etdi: ${username}`);
                        
                        // Show success
                        this.showNotification('Uƒüurla giri≈ü edildi', 'success');
                        
                        // Navigate to dashboard
                        this.showMainApp();
                        this.navigateTo('dashboard');
                        
                        // Start session timer
                        this.startSessionTimer();
                    } else {
                        this.showNotification('ƒ∞stifad…ô√ßi adƒ± v…ô ya ≈üifr…ô yanlƒ±≈ü', 'error');
                    }
                } catch (error) {
                    console.error('Login error:', error);
                    this.showNotification('Sistem x…ôtasƒ±', 'error');
                } finally {
                    this.hideLoading();
                }
            }

            async handleRegister() {
                const name = document.getElementById('regName').value;
                const surname = document.getElementById('regSurname').value;
                const region = document.getElementById('regRegion').value;
                const phone = document.getElementById('regPhone').value;
                const username = document.getElementById('regUsername').value;
                const password = document.getElementById('regPassword').value;
                
                // Validation
                if (!name || !surname || !region || !phone || !username || !password) {
                    this.showNotification('B√ºt√ºn sah…ôl…ôri doldurun', 'error');
                    return;
                }
                
                if (password.length < 6) {
                    this.showNotification('≈ûifr…ô …ôn azƒ± 6 simvol olmalƒ±dƒ±r', 'error');
                    return;
                }
                
                if (!/^[0-9]{10}$/.test(phone.replace(/\D/g, ''))) {
                    this.showNotification('Telefon n√∂mr…ôsi d√ºzg√ºn deyil', 'error');
                    return;
                }
                
                this.showLoading();
                
                try {
                    // Check if username exists
                    const existingUser = await this.getUserByUsername(username);
                    if (existingUser) {
                        this.showNotification('Bu istifad…ô√ßi adƒ± artƒ±q m√∂vcuddur', 'error');
                        this.hideLoading();
                        return;
                    }
                    
                    // Create user object
                    const user = {
                        username,
                        password: this.hashPassword(password),
                        name,
                        surname,
                        region,
                        phone,
                        role: 'user',
                        createdAt: new Date().toISOString(),
                        lastLogin: new Date().toISOString(),
                        avatar: null,
                        settings: { theme: 'dark', notifications: true }
                    };
                    
                    // Save to database
                    const userId = await this.addUser(user);
                    
                    // Log activity
                    await this.logActivity('REGISTER', `Yeni istifad…ô√ßi qeydiyyatdan ke√ßdi: ${username}`);
                    
                    // Show success
                    this.showNotification('Qeydiyyat uƒüurla tamamlandƒ±', 'success');
                    
                    // Switch to login tab
                    document.querySelector('[data-tab="login"]').click();
                    
                    // Clear form
                    document.getElementById('registerForm').reset();
                    document.getElementById('passwordStrength').style.width = '0%';
                    
                } catch (error) {
                    console.error('Register error:', error);
                    this.showNotification('Qeydiyyat zamanƒ± x…ôta ba≈ü verdi', 'error');
                } finally {
                    this.hideLoading();
                }
            }

            async handleFileUpload(file) {
                if (!file) return;
                
                // Check file type
                if (!file.name.toLowerCase().endsWith('.txt')) {
                    this.showNotification('Yalnƒ±z .txt fayllarƒ± q…ôbul edilir', 'error');
                    return;
                }
                
                // Check file name
                if (file.name.toLowerCase() !== 'cesisorgu.txt') {
                    this.showNotification('Faylƒ±n adƒ± "cesisorgu.txt" olmalƒ±dƒ±r', 'error');
                    return;
                }
                
                // Check file size (10MB limit)
                if (file.size > 10 * 1024 * 1024) {
                    this.showNotification('Fayl √∂l√ß√ºs√º 10MB-dan √ßox olmamalƒ±dƒ±r', 'error');
                    return;
                }
                
                this.showLoading();
                
                try {
                    // Read file content
                    const content = await this.readFileAsText(file);
                    
                    // Save file to database
                    const fileRecord = {
                        userId: this.currentUser.id,
                        filename: file.name,
                        content: content,
                        size: file.size,
                        uploadedAt: new Date().toISOString(),
                        analysis: this.analyzeFileContent(content)
                    };
                    
                    await this.addFile(fileRecord);
                    
                    // Log activity
                    await this.logActivity('FILE_UPLOAD', `Fayl y√ºkl…ôndi: ${file.name}`);
                    
                    // Show success
                    this.showNotification('Fayl uƒüurla y√ºkl…ôndi v…ô analiz edildi', 'success');
                    
                    // Display analysis results
                    this.displayAnalysisResults(fileRecord.analysis);
                    
                    // Update previous uploads list
                    this.updatePreviousUploads();
                    
                } catch (error) {
                    console.error('File upload error:', error);
                    this.showNotification('Fayl y√ºkl…ônm…ôdi', 'error');
                } finally {
                    this.hideLoading();
                }
            }

            async handleImageUpload(file) {
                if (!file || !file.type.startsWith('image/')) {
                    this.showNotification('Yalnƒ±z ≈ü…ôkil fayllarƒ± q…ôbul edilir', 'error');
                    return;
                }
                
                this.showLoading();
                
                try {
                    // Read image as data URL
                    const reader = new FileReader();
                    
                    reader.onload = async (e) => {
                        const imageData = e.target.result;
                        
                        // Show preview
                        const preview = document.getElementById('imagePreview');
                        preview.src = imageData;
                        document.getElementById('imagePreviewContainer').classList.remove('hidden');
                        
                        // Save image button
                        document.getElementById('saveImageBtn').onclick = async () => {
                            await this.saveImage(imageData, file.name);
                        };
                        
                        // Remove image button
                        document.getElementById('removeImageBtn').onclick = () => {
                            preview.src = '';
                            document.getElementById('imagePreviewContainer').classList.add('hidden');
                        };
                        
                        this.hideLoading();
                    };
                    
                    reader.readAsDataURL(file);
                    
                } catch (error) {
                    console.error('Image upload error:', error);
                    this.showNotification('≈û…ôkil y√ºkl…ônm…ôdi', 'error');
                    this.hideLoading();
                }
            }

            async handleAvatarUpload(file) {
                if (!file || !file.type.startsWith('image/')) {
                    this.showNotification('Yalnƒ±z ≈ü…ôkil fayllarƒ± q…ôbul edilir', 'error');
                    return;
                }
                
                this.showLoading();
                
                try {
                    // Read image as data URL
                    const reader = new FileReader();
                    
                    reader.onload = async (e) => {
                        const imageData = e.target.result;
                        
                        // Update avatar preview
                        document.getElementById('avatarImage').src = imageData;
                        
                        // Save to user profile
                        if (this.currentUser) {
                            this.currentUser.avatar = imageData;
                            await this.updateUser(this.currentUser.id, { avatar: imageData });
                            
                            this.showNotification('Profil ≈ü…ôkili yenil…ôndi', 'success');
                            await this.logActivity('AVATAR_UPDATE', 'Profil ≈ü…ôkili d…ôyi≈üdirildi');
                        }
                        
                        this.hideLoading();
                    };
                    
                    reader.readAsDataURL(file);
                    
                } catch (error) {
                    console.error('Avatar upload error:', error);
                    this.showNotification('≈û…ôkil y√ºkl…ônm…ôdi', 'error');
                    this.hideLoading();
                }
            }

            initAudioPlayer() {
                const audioInput = document.getElementById('audioInput');
                const audioUploadBtn = document.getElementById('audioUploadBtn');
                
                audioUploadBtn.addEventListener('click', () => audioInput.click());
                
                audioInput.addEventListener('change', async (e) => {
                    if (e.target.files.length) {
                        await this.handleAudioUpload(e.target.files[0]);
                    }
                });
                
                // Player controls
                const playBtn = document.getElementById('playBtn');
                const progressBar = document.getElementById('progressBar');
                const volumeControl = document.getElementById('volumeControl');
                const currentTimeEl = document.getElementById('currentTime');
                const durationEl = document.getElementById('duration');
                
                playBtn.addEventListener('click', () => {
                    this.toggleAudioPlayback();
                });
                
                progressBar.addEventListener('input', (e) => {
                    if (this.currentAudio) {
                        const time = (e.target.value / 100) * this.currentAudio.duration;
                        this.currentAudio.currentTime = time;
                    }
                });
                
                volumeControl.addEventListener('input', (e) => {
                    if (this.currentAudio) {
                        this.currentAudio.volume = e.target.value / 100;
                    }
                });
                
                // Initialize audio context for visualization
                this.initAudioVisualization();
            }

            async handleAudioUpload(file) {
                if (!file || !file.type.startsWith('audio/')) {
                    this.showNotification('Yalnƒ±z audio fayllarƒ± q…ôbul edilir', 'error');
                    return;
                }
                
                this.showLoading();
                
                try {
                    // Read audio as data URL
                    const reader = new FileReader();
                    
                    reader.onload = async (e) => {
                        const audioData = e.target.result;
                        
                        // Save to database
                        const audioRecord = {
                            userId: this.currentUser.id,
                            filename: file.name,
                            data: audioData,
                            type: file.type,
                            size: file.size,
                            uploadedAt: new Date().toISOString()
                        };
                        
                        await this.addAudio(audioRecord);
                        
                        // Update UI
                        document.getElementById('currentTrack').textContent = file.name;
                        
                        // Create audio element
                        const audio = new Audio(audioData);
                        this.setupAudioPlayer(audio);
                        
                        // Add to library
                        this.updateAudioLibrary();
                        
                        this.showNotification('Audio faylƒ± y√ºkl…ôndi', 'success');
                        await this.logActivity('AUDIO_UPLOAD', `Audio y√ºkl…ôndi: ${file.name}`);
                        
                        this.hideLoading();
                    };
                    
                    reader.readAsDataURL(file);
                    
                } catch (error) {
                    console.error('Audio upload error:', error);
                    this.showNotification('Audio y√ºkl…ônm…ôdi', 'error');
                    this.hideLoading();
                }
            }

            setupAudioPlayer(audio) {
                this.currentAudio = audio;
                
                const playBtn = document.getElementById('playBtn');
                const progressBar = document.getElementById('progressBar');
                const currentTimeEl = document.getElementById('currentTime');
                const durationEl = document.getElementById('duration');
                
                // Update duration
                audio.addEventListener('loadedmetadata', () => {
                    durationEl.textContent = this.formatTime(audio.duration);
                });
                
                // Update progress
                audio.addEventListener('timeupdate', () => {
                    if (audio.duration) {
                        const progress = (audio.currentTime / audio.duration) * 100;
                        progressBar.value = progress;
                        currentTimeEl.textContent = this.formatTime(audio.currentTime);
                    }
                });
                
                // Update play button
                audio.addEventListener('play', () => {
                    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                });
                
                audio.addEventListener('pause', () => {
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                });
                
                // Audio ended
                audio.addEventListener('ended', () => {
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                    progressBar.value = 0;
                    currentTimeEl.textContent = '00:00';
                });
            }

            initAudioVisualization() {
                // Create audio context for visualization
                this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                this.audioAnalyser = this.audioContext.createAnalyser();
                this.audioAnalyser.fftSize = 256;
                
                // Setup visualization canvas
                const canvas = document.getElementById('audioVisualizer');
                const canvasCtx = canvas.getContext('2d');
                
                const bufferLength = this.audioAnalyser.frequencyBinCount;
                const dataArray = new Uint8Array(bufferLength);
                
                function draw() {
                    requestAnimationFrame(draw);
                    
                    if (!window.quantumSystem.audioAnalyser) return;
                    
                    window.quantumSystem.audioAnalyser.getByteFrequencyData(dataArray);
                    
                    canvasCtx.fillStyle = 'rgba(5, 5, 8, 0.3)';
                    canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    const barWidth = (canvas.width / bufferLength) * 2.5;
                    let barHeight;
                    let x = 0;
                    
                    for (let i = 0; i < bufferLength; i++) {
                        barHeight = dataArray[i] / 2;
                        
                        canvasCtx.fillStyle = `rgb(${barHeight + 100}, 255, ${barHeight + 136})`;
                        canvasCtx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);
                        
                        x += barWidth + 1;
                    }
                }
                
                draw();
            }

            toggleAudioPlayback() {
                if (!this.currentAudio) {
                    this.showNotification('He√ß bir audio faylƒ± se√ßilm…ôyib', 'error');
                    return;
                }
                
                if (this.currentAudio.paused) {
                    this.currentAudio.play();
                    
                    // Connect to analyser for visualization
                    if (this.audioContext && this.currentAudio) {
                        this.audioSource = this.audioContext.createMediaElementSource(this.currentAudio);
                        this.audioSource.connect(this.audioAnalyser);
                        this.audioAnalyser.connect(this.audioContext.destination);
                    }
                } else {
                    this.currentAudio.pause();
                }
            }

            analyzeFileContent(content) {
                // Real file analysis
                const lines = content.split('\n');
                const words = content.split(/\s+/);
                const characters = content.length;
                
                // Count specific patterns
                const emailCount = (content.match(/[\w\.-]+@[\w\.-]+\.\w+/g) || []).length;
                const phoneCount = (content.match(/[\+]?[0-9\s\-\(\)]{10,}/g) || []).length;
                const urlCount = (content.match(/https?:\/\/[^\s]+/g) || []).length;
                
                // Find keywords
                const keywords = ['cesisorgu', 'data', 'analysis', 'report', 'quantum'];
                const foundKeywords = keywords.filter(keyword => 
                    content.toLowerCase().includes(keyword.toLowerCase())
                );
                
                // Calculate word frequency
                const wordFrequency = {};
                words.forEach(word => {
                    const cleanWord = word.toLowerCase().replace(/[^\w]/g, '');
                    if (cleanWord.length > 3) {
                        wordFrequency[cleanWord] = (wordFrequency[cleanWord] || 0) + 1;
                    }
                });
                
                // Get top 5 words
                const topWords = Object.entries(wordFrequency)
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 5)
                    .map(([word, count]) => ({ word, count }));
                
                return {
                    lines: lines.length,
                    words: words.length,
                    characters,
                    emailCount,
                    phoneCount,
                    urlCount,
                    foundKeywords,
                    topWords,
                    timestamp: new Date().toISOString()
                };
            }

            displayAnalysisResults(analysis) {
                const resultsDiv = document.getElementById('resultsContent');
                resultsDiv.innerHTML = '';
                
                // Create results HTML
                let html = `
                    <div class="dashboard-grid">
                        <div class="quantum-card">
                            <h4><i class="fas fa-file-alt"></i> √úmumi Statistikalar</h4>
                            <div style="margin-top: 1rem;">
                                <div class="flex justify-between">
                                    <span>S…ôtirl…ôr:</span>
                                    <span style="font-family: var(--font-digital);">${analysis.lines}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>S√∂zl…ôr:</span>
                                    <span style="font-family: var(--font-digital);">${analysis.words}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Simvollar:</span>
                                    <span style="font-family: var(--font-digital);">${analysis.characters}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="quantum-card">
                            <h4><i class="fas fa-search"></i> A≈ükar Edil…ônl…ôr</h4>
                            <div style="margin-top: 1rem;">
                                <div class="flex justify-between">
                                    <span>E-mail:</span>
                                    <span style="font-family: var(--font-digital);">${analysis.emailCount}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Telefon:</span>
                                    <span style="font-family: var(--font-digital);">${analysis.phoneCount}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>URL:</span>
                                    <span style="font-family: var(--font-digital);">${analysis.urlCount}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                // Add top words
                if (analysis.topWords.length > 0) {
                    html += `
                        <div class="quantum-card mt-4">
                            <h4><i class="fas fa-chart-bar"></i> ∆èn √áox T…ôkrarlanan S√∂zl…ôr</h4>
                            <div style="margin-top: 1rem;">
                                ${analysis.topWords.map(item => `
                                    <div class="flex justify-between items-center mb-2">
                                        <span>${item.word}</span>
                                        <span style="font-family: var(--font-digital); color: var(--quantum-green);">${item.count}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                }
                
                // Add found keywords
                if (analysis.foundKeywords.length > 0) {
                    html += `
                        <div class="quantum-card mt-4">
                            <h4><i class="fas fa-key"></i> A≈ükar Edil…ôn A√ßar S√∂zl…ôr</h4>
                            <div style="margin-top: 1rem; display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                ${analysis.foundKeywords.map(keyword => `
                                    <span style="padding: 0.3rem 0.8rem; background: rgba(0, 255, 136, 0.1); border-radius: 4px; font-family: var(--font-terminal);">
                                        ${keyword}
                                    </span>
                                `).join('')}
                            </div>
                        </div>
                    `;
                }
                
                resultsDiv.innerHTML = html;
                document.getElementById('analysisResults').classList.remove('hidden');
            }

            async updatePreviousUploads() {
                if (!this.currentUser) return;
                
                const files = await this.getUserFiles(this.currentUser.id);
                const container = document.getElementById('previousUploads');
                
                if (files.length === 0) {
                    container.innerHTML = '<div class="activity-item">H…ôl…ô y√ºkl…ônmi≈ü fayl yoxdur</div>';
                    return;
                }
                
                container.innerHTML = files.slice(0, 10).map(file => `
                    <div class="activity-item">
                        <div class="flex justify-between">
                            <span>${file.filename}</span>
                            <span style="font-family: var(--font-terminal); font-size: 0.8rem; color: rgba(255, 255, 255, 0.5);">
                                ${new Date(file.uploadedAt).toLocaleDateString()}
                            </span>
                        </div>
                        <div style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.6);">
                            ${this.formatFileSize(file.size)} ‚Ä¢ ${file.analysis?.lines || 0} s…ôtir
                        </div>
                    </div>
                `).join('');
            }

            async updateAudioLibrary() {
                if (!this.currentUser) return;
                
                const audios = await this.getUserAudios(this.currentUser.id);
                const container = document.getElementById('audioLibrary');
                
                if (audios.length === 0) {
                    container.innerHTML = '<div class="activity-item">Audio y√ºkl…ônm…ôyib</div>';
                    return;
                }
                
                container.innerHTML = audios.map(audio => `
                    <div class="activity-item" style="cursor: pointer;" onclick="window.quantumSystem.loadAudio(${audio.id})">
                        <div class="flex justify-between">
                            <span>${audio.filename}</span>
                            <span style="font-family: var(--font-terminal); font-size: 0.8rem; color: rgba(255, 255, 255, 0.5);">
                                ${this.formatFileSize(audio.size)}
                            </span>
                        </div>
                    </div>
                `).join('');
            }

            async loadAudio(audioId) {
                const audio = await this.getAudioById(audioId);
                if (!audio) return;
                
                const audioElement = new Audio(audio.data);
                this.setupAudioPlayer(audioElement);
                document.getElementById('currentTrack').textContent = audio.filename;
                this.showNotification('Audio y√ºkl…ôndi', 'info');
            }

            async checkSession() {
                const sessionId = localStorage.getItem('quantum_session');
                if (!sessionId) return;
                
                try {
                    const session = await this.getSession(sessionId);
                    
                    if (session && new Date(session.expires) > new Date()) {
                        const user = await this.getUserById(session.userId);
                        if (user) {
                            this.currentUser = user;
                            this.showMainApp();
                            this.startSessionTimer();
                            return true;
                        }
                    }
                    
                    // Clear invalid session
                    localStorage.removeItem('quantum_session');
                    await this.deleteSession(sessionId);
                    
                } catch (error) {
                    console.error('Session check error:', error);
                }
                
                return false;
            }

            async createSession(userId) {
                const sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                const expires = new Date(Date.now() + this.sessionDuration);
                
                const session = {
                    id: sessionId,
                    userId: userId,
                    createdAt: new Date().toISOString(),
                    expires: expires.toISOString(),
                    ip: 'local',
                    userAgent: navigator.userAgent
                };
                
                await this.addSession(session);
                localStorage.setItem('quantum_session', sessionId);
                
                return sessionId;
            }

            startSessionTimer() {
                // Clear existing timer
                if (this.sessionTimer) {
                    clearInterval(this.sessionTimer);
                }
                
                // Show session timer
                document.getElementById('sessionTimer').classList.remove('hidden');
                
                let timeLeft = this.sessionDuration;
                
                this.sessionTimer = setInterval(() => {
                    timeLeft -= 1000;
                    
                    const minutes = Math.floor(timeLeft / 60000);
                    const seconds = Math.floor((timeLeft % 60000) / 1000);
                    
                    document.getElementById('sessionTime').textContent = 
                        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    
                    if (timeLeft <= 0) {
                        this.handleLogout();
                        this.showNotification('Session bitdi', 'info');
                    }
                    
                    // Warn at 5 minutes
                    if (timeLeft === 5 * 60 * 1000) {
                        this.showNotification('Session 5 d…ôqiq…ô sonra bit…ôc…ôk', 'warning');
                    }
                    
                }, 1000);
            }

            async handleLogout() {
                // Clear session timer
                if (this.sessionTimer) {
                    clearInterval(this.sessionTimer);
                    this.sessionTimer = null;
                }
                
                // Remove session from storage
                const sessionId = localStorage.getItem('quantum_session');
                if (sessionId) {
                    await this.deleteSession(sessionId);
                    localStorage.removeItem('quantum_session');
                }
                
                // Log activity
                if (this.currentUser) {
                    await this.logActivity('LOGOUT', `ƒ∞stifad…ô√ßi √ßƒ±xƒ±≈ü etdi: ${this.currentUser.username}`);
                }
                
                // Reset current user
                this.currentUser = null;
                
                // Show auth section
                this.showAuthApp();
                
                // Show notification
                this.showNotification('Uƒüurla √ßƒ±xƒ±≈ü edildi', 'info');
            }

            showMainApp() {
                document.getElementById('authSection').classList.add('hidden');
                document.getElementById('quantumHeader').classList.remove('hidden');
                document.getElementById('mainFooter').classList.remove('hidden');
                
                // Show admin menu if admin
                if (this.currentUser?.role === 'admin') {
                    document.querySelectorAll('.admin-only').forEach(el => {
                        el.classList.remove('hidden');
                    });
                }
                
                // Load user profile data
                this.loadProfileData();
                
                // Update dashboard stats
                this.refreshDashboard();
            }

            showAuthApp() {
                document.getElementById('authSection').classList.remove('hidden');
                document.getElementById('quantumHeader').classList.add('hidden');
                document.getElementById('mainFooter').classList.add('hidden');
                
                // Hide all sections
                document.querySelectorAll('.main-container').forEach(section => {
                    section.classList.add('hidden');
                });
                
                // Reset forms
                document.getElementById('loginForm').reset();
                document.getElementById('registerForm').reset();
                
                // Show login tab
                document.querySelector('[data-tab="login"]').click();
            }

            navigateTo(page) {
                // Hide all sections
                document.querySelectorAll('.main-container').forEach(section => {
                    section.classList.add('hidden');
                });
                
                // Update navigation
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.dataset.page === page) {
                        link.classList.add('active');
                    }
                });
                
                // Show selected section
                document.getElementById(`${page}Section`).classList.remove('hidden');
                this.currentPage = page;
                
                // Load section-specific data
                switch (page) {
                    case 'dashboard':
                        this.refreshDashboard();
                        break;
                    case 'profile':
                        this.loadProfileData();
                        break;
                    case 'upload':
                        this.updatePreviousUploads();
                        break;
                    case 'media':
                        this.updateAudioLibrary();
                        break;
                    case 'admin':
                        this.loadAdminData();
                        break;
                }
            }

            showAdminTab(tab) {
                // Hide all admin tabs
                document.querySelectorAll('.admin-tab').forEach(tab => {
                    tab.classList.add('hidden');
                });
                
                // Show selected tab
                document.getElementById(`admin${tab.charAt(0).toUpperCase() + tab.slice(1)}Tab`).classList.remove('hidden');
            }

            async loadProfileData() {
                if (!this.currentUser) return;
                
                // Update profile fields
                document.getElementById('profileName').textContent = `${this.currentUser.name} ${this.currentUser.surname}`;
                document.getElementById('profileRole').textContent = this.currentUser.role === 'admin' ? 'Administrator' : 'ƒ∞stifad…ô√ßi';
                document.getElementById('profileFirstName').textContent = this.currentUser.name;
                document.getElementById('profileLastName').textContent = this.currentUser.surname;
                document.getElementById('profileRegion').textContent = this.currentUser.region;
                document.getElementById('profilePhone').textContent = this.currentUser.phone;
                document.getElementById('profileUsername').textContent = this.currentUser.username;
                document.getElementById('profileRegDate').textContent = new Date(this.currentUser.createdAt).toLocaleDateString('az-AZ', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Update avatar if exists
                if (this.currentUser.avatar) {
                    document.getElementById('avatarImage').src = this.currentUser.avatar;
                }
                
                // Load session history
                await this.loadSessionHistory();
            }

            async loadSessionHistory() {
                if (!this.currentUser) return;
                
                const sessions = await this.getUserSessions(this.currentUser.id);
                const container = document.getElementById('sessionHistory');
                
                if (sessions.length === 0) {
                    container.innerHTML = '<div class="activity-item">Session tarix√ß…ôsi yoxdur</div>';
                    return;
                }
                
                container.innerHTML = sessions.slice(0, 5).map(session => `
                    <div class="activity-item">
                        <div class="flex justify-between">
                            <span>${new Date(session.createdAt).toLocaleDateString()}</span>
                            <span style="font-family: var(--font-terminal); font-size: 0.8rem; color: rgba(255, 255, 255, 0.5);">
                                ${new Date(session.createdAt).toLocaleTimeString()}
                            </span>
                        </div>
                        <div style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.6);">
                            ${session.userAgent?.substring(0, 50)}...
                        </div>
                    </div>
                `).join('');
            }

            async refreshDashboard() {
                if (!this.currentUser) return;
                
                // Update stats with real data
                const users = await this.getAllUsers();
                const files = await this.getAllFiles();
                
                document.getElementById('totalRecords').textContent = files.length;
                document.getElementById('activeUsers').textContent = users.length;
                
                // Update activity log
                const logs = await this.getRecentLogs(10);
                const logContainer = document.getElementById('activityLog');
                
                if (logs.length > 0) {
                    logContainer.innerHTML = logs.map(log => `
                        <div class="activity-item">
                            <div class="flex justify-between">
                                <span>${log.message}</span>
                                <span style="font-family: var(--font-terminal); font-size: 0.8rem; color: rgba(255, 255, 255, 0.5);">
                                    ${this.formatTimeAgo(new Date(log.timestamp))}
                                </span>
                            </div>
                        </div>
                    `).join('');
                }
            }

            async loadAdminData() {
                if (!this.currentUser || this.currentUser.role !== 'admin') return;
                
                // Load users for admin table
                const users = await this.getAllUsers();
                const tableBody = document.getElementById('usersTableBody');
                
                tableBody.innerHTML = users.map(user => `
                    <tr>
                        <td style="font-family: var(--font-terminal);">${user.id}</td>
                        <td>${user.name}</td>
                        <td>${user.surname}</td>
                        <td>${user.region}</td>
                        <td>${user.phone}</td>
                        <td>${user.username}</td>
                        <td>
                            <span style="padding: 0.2rem 0.5rem; background: ${user.role === 'admin' ? 'rgba(255, 0, 85, 0.2)' : 'rgba(0, 255, 136, 0.2)'}; border-radius: 3px; font-size: 0.8rem;">
                                ${user.role}
                            </span>
                        </td>
                        <td>${new Date(user.lastLogin).toLocaleDateString()}</td>
                        <td>
                            <button class="quantum-btn" style="padding: 0.3rem 0.6rem; font-size: 0.8rem;" onclick="window.quantumSystem.editUser(${user.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                        </td>
                    </tr>
                `).join('');
                
                // Update system stats
                document.getElementById('adminUserCount').textContent = users.length;
                document.getElementById('adminFileCount').textContent = (await this.getAllFiles()).length;
                
                // Load system logs
                await this.loadSystemLogs();
            }

            async loadSystemLogs() {
                const logs = await this.getRecentLogs(50);
                const container = document.getElementById('systemLogs');
                
                container.innerHTML = logs.map(log => `
                    <div class="activity-item">
                        <div class="flex justify-between">
                            <span>${log.message}</span>
                            <span style="font-family: var(--font-terminal); font-size: 0.8rem; color: rgba(255, 255, 255, 0.5);">
                                ${new Date(log.timestamp).toLocaleString()}
                            </span>
                        </div>
                        <div style="font-size: 0.8rem; color: ${log.type === 'ERROR' ? 'var(--cyber-red)' : 'rgba(255, 255, 255, 0.6)'}">
                            ${log.type}
                        </div>
                    </div>
                `).join('');
            }

            initBackgroundEffects() {
                // Initialize matrix rain effect
                const canvas = document.getElementById('matrixRain');
                const ctx = canvas.getContext('2d');
                
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                
                const chars = "01";
                const fontSize = 14;
                const columns = canvas.width / fontSize;
                const drops = [];
                
                for (let i = 0; i < columns; i++) {
                    drops[i] = Math.floor(Math.random() * canvas.height / fontSize);
                }
                
                function draw() {
                    ctx.fillStyle = 'rgba(10, 10, 18, 0.05)';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    ctx.fillStyle = '#00ff88';
                    ctx.font = `${fontSize}px 'Share Tech Mono', monospace`;
                    
                    for (let i = 0; i < drops.length; i++) {
                        const text = chars[Math.floor(Math.random() * chars.length)];
                        const x = i * fontSize;
                        const y = drops[i] * fontSize;
                        
                        ctx.fillText(text, x, y);
                        
                        if (y > canvas.height && Math.random() > 0.975) {
                            drops[i] = 0;
                        }
                        
                        drops[i]++;
                    }
                }
                
                setInterval(draw, 50);
                
                window.addEventListener('resize', () => {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                });
            }

            // ============================================
            // DATABASE OPERATIONS
            // ============================================

            async addUser(user) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['users'], 'readwrite');
                    const store = transaction.objectStore('users');
                    const request = store.add(user);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async getUserByUsername(username) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['users'], 'readonly');
                    const store = transaction.objectStore('users');
                    const index = store.index('username');
                    const request = index.get(username);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async getUserById(id) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['users'], 'readonly');
                    const store = transaction.objectStore('users');
                    const request = store.get(id);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async updateUser(id, updates) {
                return new Promise(async (resolve, reject) => {
                    const transaction = this.db.transaction(['users'], 'readwrite');
                    const store = transaction.objectStore('users');
                    
                    const request = store.get(id);
                    request.onsuccess = () => {
                        const user = request.result;
                        Object.assign(user, updates);
                        store.put(user);
                        resolve(user);
                    };
                    request.onerror = () => reject(request.error);
                });
            }

            async getAllUsers() {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['users'], 'readonly');
                    const store = transaction.objectStore('users');
                    const request = store.getAll();
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async addFile(file) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['files'], 'readwrite');
                    const store = transaction.objectStore('files');
                    const request = store.add(file);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async getUserFiles(userId) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['files'], 'readonly');
                    const store = transaction.objectStore('files');
                    const index = store.index('userId');
                    const request = index.getAll(userId);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async getAllFiles() {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['files'], 'readonly');
                    const store = transaction.objectStore('files');
                    const request = store.getAll();
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async addImage(image) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['images'], 'readwrite');
                    const store = transaction.objectStore('images');
                    const request = store.add(image);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async getUserImages(userId) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['images'], 'readonly');
                    const store = transaction.objectStore('images');
                    const index = store.index('userId');
                    const request = index.getAll(userId);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async addAudio(audio) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['audios'], 'readwrite');
                    const store = transaction.objectStore('audios');
                    const request = store.add(audio);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async getUserAudios(userId) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['audios'], 'readonly');
                    const store = transaction.objectStore('audios');
                    const index = store.index('userId');
                    const request = index.getAll(userId);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async getAudioById(id) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['audios'], 'readonly');
                    const store = transaction.objectStore('audios');
                    const request = store.get(id);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async addSession(session) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['sessions'], 'readwrite');
                    const store = transaction.objectStore('sessions');
                    const request = store.add(session);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async getSession(id) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['sessions'], 'readonly');
                    const store = transaction.objectStore('sessions');
                    const request = store.get(id);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async getUserSessions(userId) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['sessions'], 'readonly');
                    const store = transaction.objectStore('sessions');
                    const index = store.index('userId');
                    const request = index.getAll(userId);
                    
                    request.onsuccess = () => resolve(request.result);
                    request.onerror = () => reject(request.error);
                });
            }

            async deleteSession(id) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['sessions'], 'readwrite');
                    const store = transaction.objectStore('sessions');
                    const request = store.delete(id);
                    
                    request.onsuccess = () => resolve();
                    request.onerror = () => reject(request.error);
                });
            }

            async logActivity(type, message) {
                const log = {
                    type,
                    message,
                    userId: this.currentUser?.id,
                    username: this.currentUser?.username,
                    timestamp: new Date().toISOString(),
                    ip: 'local'
                };
                
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['logs'], 'readwrite');
                    const store = transaction.objectStore('logs');
                    const request = store.add(log);
                    
                    request.onsuccess = () => resolve();
                    request.onerror = () => reject(request.error);
                });
            }

            async getRecentLogs(limit = 50) {
                return new Promise((resolve, reject) => {
                    const transaction = this.db.transaction(['logs'], 'readonly');
                    const store = transaction.objectStore('logs');
                    const index = store.index('timestamp');
                    const request = index.openCursor(null, 'prev');
                    const logs = [];
                    
                    request.onsuccess = (event) => {
                        const cursor = event.target.result;
                        if (cursor && logs.length < limit) {
                            logs.push(cursor.value);
                            cursor.continue();
                        } else {
                            resolve(logs);
                        }
                    };
                    
                    request.onerror = () => reject(request.error);
                });
            }

            // ============================================
            // UTILITY FUNCTIONS
            // ============================================

            async authenticateUser(username, password) {
                const user = await this.getUserByUsername(username);
                if (!user) return null;
                
                // Compare hashed passwords
                if (user.password === this.hashPassword(password)) {
                    return user;
                }
                
                return null;
            }

            hashPassword(password) {
                // Simple hash function for demo (in production use bcrypt)
                let hash = 0;
                for (let i = 0; i < password.length; i++) {
                    const char = password.charCodeAt(i);
                    hash = ((hash << 5) - hash) + char;
                    hash = hash & hash;
                }
                return hash.toString(16);
            }

            checkPasswordStrength(password) {
                let strength = 0;
                
                if (password.length >= 8) strength += 25;
                if (/[A-Z]/.test(password)) strength += 25;
                if (/[0-9]/.test(password)) strength += 25;
                if (/[^A-Za-z0-9]/.test(password)) strength += 25;
                
                return strength;
            }

            async readFileAsText(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = (e) => resolve(e.target.result);
                    reader.onerror = (e) => reject(e.target.error);
                    reader.readAsText(file);
                });
            }

            async saveImage(imageData, filename) {
                if (!this.currentUser) return;
                
                const imageRecord = {
                    userId: this.currentUser.id,
                    filename: filename,
                    data: imageData,
                    uploadedAt: new Date().toISOString()
                };
                
                await this.addImage(imageRecord);
                this.showNotification('≈û…ôkil saxlandƒ±', 'success');
                await this.logActivity('IMAGE_SAVE', `≈û…ôkil saxlandƒ±: ${filename}`);
            }

            formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }

            formatTimeAgo(date) {
                const now = new Date();
                const diffMs = now - date;
                const diffMins = Math.floor(diffMs / 60000);
                const diffHours = Math.floor(diffMs / 3600000);
                const diffDays = Math.floor(diffMs / 86400000);
                
                if (diffMins < 1) return 'az …ôvv…ôl';
                if (diffMins < 60) return `${diffMins} d…ôqiq…ô …ôvv…ôl`;
                if (diffHours < 24) return `${diffHours} saat …ôvv…ôl`;
                return `${diffDays} g√ºn …ôvv…ôl`;
            }

            showNotification(message, type = 'info') {
                const container = document.getElementById('notificationContainer');
                const notification = document.createElement('div');
                
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                container.appendChild(notification);
                
                // Show with animation
                setTimeout(() => notification.classList.add('show'), 10);
                
                // Auto remove after 5 seconds
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 5000);
            }

            showLoading() {
                document.getElementById('loadingOverlay').classList.remove('hidden');
            }

            hideLoading() {
                document.getElementById('loadingOverlay').classList.add('hidden');
            }

            // ============================================
            // EXPORT/IMPORT FUNCTIONS
            // ============================================

            async exportData(type = 'all') {
                this.showLoading();
                
                try {
                    let data = {};
                    
                    switch (type) {
                        case 'users':
                            data.users = await this.getAllUsers();
                            break;
                        case 'files':
                            data.files = await this.getAllFiles();
                            break;
                        case 'logs':
                            data.logs = await this.getRecentLogs(1000);
                            break;
                        case 'all':
                            data = {
                                users: await this.getAllUsers(),
                                files: await this.getAllFiles(),
                                logs: await this.getRecentLogs(1000),
                                exportedAt: new Date().toISOString()
                            };
                            break;
                    }
                    
                    // Create and download JSON file
                    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `cesisorgu_${type}_${new Date().toISOString().split('T')[0]}.json`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    this.showNotification('M…ôlumatlar export edildi', 'success');
                    await this.logActivity('EXPORT', `${type} m…ôlumatlarƒ± export edildi`);
                    
                } catch (error) {
                    console.error('Export error:', error);
                    this.showNotification('Export x…ôtasƒ±', 'error');
                } finally {
                    this.hideLoading();
                }
            }

            async importData(file) {
                if (!file || !file.name.endsWith('.json')) {
                    this.showNotification('Yalnƒ±z JSON fayllarƒ± import edil…ô bil…ôr', 'error');
                    return;
                }
                
                this.showLoading();
                
                try {
                    const text = await this.readFileAsText(file);
                    const data = JSON.parse(text);
                    
                    // Validate data structure
                    if (!data.users && !data.files && !data.logs) {
                        throw new Error('Yanlƒ±≈ü data formatƒ±');
                    }
                    
                    // Import users
                    if (data.users) {
                        for (const user of data.users) {
                            try {
                                await this.addUser(user);
                            } catch (e) {
                                console.warn('User import warning:', e);
                            }
                        }
                    }
                    
                    this.showNotification('M…ôlumatlar import edildi', 'success');
                    await this.logActivity('IMPORT', 'M…ôlumatlar import edildi');
                    
                } catch (error) {
                    console.error('Import error:', error);
                    this.showNotification('Import x…ôtasƒ±', 'error');
                } finally {
                    this.hideLoading();
                }
            }
        }

        // ============================================
        // INITIALIZE APPLICATION
        // ============================================

        // Make system globally available
        window.quantumSystem = new QuantumSystem();

        // Add window event listeners
        window.addEventListener('load', () => {
            console.log('üåê Quantum System Loaded');
            
            // Add responsive behavior
            function handleResize() {
                const isMobile = window.innerWidth < 768;
                document.body.classList.toggle('mobile', isMobile);
            }
            
            window.addEventListener('resize', handleResize);
            handleResize();
            
            // Add context menu prevention (optional)
            document.addEventListener('contextmenu', (e) => {
                if (e.target.closest('.quantum-card') || e.target.closest('.user-table')) {
                    e.preventDefault();
                    quantumSystem.showNotification('Context menu blocked in secure areas', 'info');
                }
            });
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Ctrl + S for save
                if (e.ctrlKey && e.key === 's') {
                    e.preventDefault();
                    quantumSystem.showNotification('Sistem avtomatik qeyd edir', 'info');
                }
                
                // Ctrl + D for dashboard
                if (e.ctrlKey && e.key === 'd') {
                    e.preventDefault();
                    quantumSystem.navigateTo('dashboard');
                }
                
                // Ctrl + L for logout
                if (e.ctrlKey && e.key === 'l') {
                    e.preventDefault();
                    if (quantumSystem.currentUser) {
                        quantumSystem.handleLogout();
                    }
                }
            });
        });

        // Error handling
        window.addEventListener('error', (e) => {
            console.error('Global error:', e.error);
            quantumSystem.showNotification(`Sistem x…ôtasƒ±: ${e.message}`, 'error');
            quantumSystem.logActivity('ERROR', `Global x…ôta: ${e.message}`);
        });

        window.addEventListener('unhandledrejection', (e) => {
            console.error('Unhandled rejection:', e.reason);
            quantumSystem.showNotification('Promise x…ôtasƒ±', 'error');
            quantumSystem.logActivity('ERROR', `Promise x…ôtasƒ±: ${e.reason}`);
        });

        // Service Worker for offline support (optional)
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').catch(console.error);
        }

        // Export system info to console
        console.log(`
        ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
        ‚ïë                                                      ‚ïë
        ‚ïë         CESISORGU QUANTUM v3.0.0                     ‚ïë
        ‚ïë         Single-File Architecture                     ‚ïë
        ‚ïë                                                      ‚ïë
        ‚ïë         Features:                                    ‚ïë
        ‚ïë         ‚Ä¢ Real User Authentication                   ‚ïë
        ‚ïë         ‚Ä¢ File Processing System                     ‚ïë
        ‚ïë         ‚Ä¢ Media Management                           ‚ïë
        ‚ïë         ‚Ä¢ Admin Panel                                ‚ïë
        ‚ïë         ‚Ä¢ Data Persistence                           ‚ïë
        ‚ïë         ‚Ä¢ Responsive Design                          ‚ïë
        ‚ïë                                                      ‚ïë
        ‚ïë         Status: PRODUCTION READY                     ‚ïë
        ‚ïë                                                      ‚ïë
        ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
        `);
    </script>
</body>
</html>